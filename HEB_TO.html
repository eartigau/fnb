<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Info sur Hamilton Canadian Bank Equal-Weight Index ETF</title>
<!-- Styles -->
<link rel="stylesheet" href="disnat-style.css">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<style>
  body { margin: 0; }

  /* Ajustement des filtres */
  .filters input[type="number"] {
    width: 5ch;
    padding: 2px;
    box-sizing: content-box;
  }

  /* --- Grille 2x2 pour graphiques --- */
  .plots {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* exactement 2 colonnes */
    gap: 16px;
    margin: 16px 0;
  }
  /* Responsive sur écran petit */
  @media (max-width: 700px) {
    .plots {
      grid-template-columns: 1fr; /* 1 colonne sur mobile */
    }
  }

  .plot-box {
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 6px;
    padding: 8px;
    box-sizing: border-box;
    background: white;
    height: 0;
    padding-bottom: 66.66%; /* ratio 3:2 */
    position: relative;
  }
  .plot-box > div {
    position: absolute;
    top: 0; left: 0;
    width: 100% !important;
    height: 100% !important;
  }

  /* Info portefeuille à côté si écran large */
  .grid {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
  }
  .ticker-info {
    flex: 1 1 300px;
    min-width: 300px;
    max-width: 400px;
  }
  .plots {
    flex: 2 1 600px;
    min-width: 300px;
  }
</style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="brand">
        <div class="logo">FNB</div>
        <h1>Hamilton Canadian Bank Equal-Weight Index ETF</h1>
      </div>
      <nav class="nav">
        <a href="table_fnb.html">Accueil</a>
        <a href="documentation.html">Documentation</a>
      </nav>
    </header>
  </div>

  <h2>Évolution du portefeuille et analyse</h2>

  <div class="grid">
    <div class="plots">
      <div class="plot-box"><div id="graph1"></div></div>
      <div class="plot-box"><div id="graph2"></div></div>
      <div class="plot-box"><div id="graph3"></div></div>
      <div class="plot-box"><div id="graph4"></div></div>
    </div>

    <div class="ticker-info card">
      <h3>Infos Portefeuille</h3>
      <p><span class="kicker">Ticker</span> <strong>HEB.TO</strong></p>
      <p><span class="kicker">Nom</span> Hamilton Canadian Bank Equal-Weight Index ETF</p>
      <p><span class="kicker">Âge du FNB</span> 2.48 ans</p>
      <p><span class="kicker">Creux COVID-19</span> nan%</p>
      <p><span class="kicker">Creux Tarif</span> -4.5%</p>
      <p><span class="kicker">Croissance annuelle [S&P500]</span> 25.5 [18.3] %</p>
      <p><span class="kicker">Volatilité annuelle [S&P500]</span> 5.1 [4.4] %</p>
    </div>
  </div>

<script>
  // --- Données séries temporelles ---
  const dates1 = ["2023-04-04","2023-04-05","2023-04-06","2023-04-10","2023-04-11","2023-04-12","2023-04-13","2023-04-14","2023-04-17","2023-04-18","2023-04-19","2023-04-20","2023-04-21","2023-04-24","2023-04-25","2023-04-26","2023-04-27","2023-04-28","2023-05-01","2023-05-02","2023-05-03","2023-05-04","2023-05-05","2023-05-08","2023-05-09","2023-05-10","2023-05-11","2023-05-12","2023-05-15","2023-05-16","2023-05-17","2023-05-18","2023-05-19","2023-05-23","2023-05-24","2023-05-25","2023-05-26","2023-05-29","2023-05-30","2023-05-31","2023-06-01","2023-06-02","2023-06-05","2023-06-06","2023-06-07","2023-06-08","2023-06-09","2023-06-12","2023-06-13","2023-06-14","2023-06-15","2023-06-16","2023-06-19","2023-06-20","2023-06-21","2023-06-22","2023-06-23","2023-06-26","2023-06-27","2023-06-28","2023-06-29","2023-06-30","2023-07-04","2023-07-05","2023-07-06","2023-07-07","2023-07-10","2023-07-11","2023-07-12","2023-07-13","2023-07-14","2023-07-17","2023-07-18","2023-07-19","2023-07-20","2023-07-21","2023-07-24","2023-07-25","2023-07-26","2023-07-27","2023-07-28","2023-07-31","2023-08-01","2023-08-02","2023-08-03","2023-08-04","2023-08-08","2023-08-09","2023-08-10","2023-08-11","2023-08-14","2023-08-15","2023-08-16","2023-08-17","2023-08-18","2023-08-21","2023-08-22","2023-08-23","2023-08-24","2023-08-25","2023-08-28","2023-08-29","2023-08-30","2023-08-31","2023-09-01","2023-09-05","2023-09-06","2023-09-07","2023-09-08","2023-09-11","2023-09-12","2023-09-13","2023-09-14","2023-09-15","2023-09-18","2023-09-19","2023-09-20","2023-09-21","2023-09-22","2023-09-25","2023-09-26","2023-09-27","2023-09-28","2023-09-29","2023-10-02","2023-10-03","2023-10-04","2023-10-05","2023-10-06","2023-10-10","2023-10-11","2023-10-12","2023-10-13","2023-10-16","2023-10-17","2023-10-18","2023-10-19","2023-10-20","2023-10-23","2023-10-24","2023-10-25","2023-10-26","2023-10-27","2023-10-30","2023-10-31","2023-11-01","2023-11-02","2023-11-03","2023-11-06","2023-11-07","2023-11-08","2023-11-09","2023-11-10","2023-11-13","2023-11-14","2023-11-15","2023-11-16","2023-11-17","2023-11-20","2023-11-21","2023-11-22","2023-11-23","2023-11-24","2023-11-27","2023-11-28","2023-11-29","2023-11-30","2023-12-01","2023-12-04","2023-12-05","2023-12-06","2023-12-07","2023-12-08","2023-12-11","2023-12-12","2023-12-13","2023-12-14","2023-12-15","2023-12-18","2023-12-19","2023-12-20","2023-12-21","2023-12-22","2023-12-27","2023-12-28","2023-12-29","2024-01-02","2024-01-03","2024-01-04","2024-01-05","2024-01-08","2024-01-09","2024-01-10","2024-01-11","2024-01-12","2024-01-15","2024-01-16","2024-01-17","2024-01-18","2024-01-19","2024-01-22","2024-01-23","2024-01-24","2024-01-25","2024-01-26","2024-01-29","2024-01-30","2024-01-31","2024-02-01","2024-02-02","2024-02-05","2024-02-06","2024-02-07","2024-02-08","2024-02-09","2024-02-12","2024-02-13","2024-02-14","2024-02-15","2024-02-16","2024-02-20","2024-02-21","2024-02-22","2024-02-23","2024-02-26","2024-02-27","2024-02-28","2024-02-29","2024-03-01","2024-03-04","2024-03-05","2024-03-06","2024-03-07","2024-03-08","2024-03-11","2024-03-12","2024-03-13","2024-03-14","2024-03-15","2024-03-18","2024-03-19","2024-03-20","2024-03-21","2024-03-22","2024-03-25","2024-03-26","2024-03-27","2024-03-28","2024-04-01","2024-04-02","2024-04-03","2024-04-04","2024-04-05","2024-04-08","2024-04-09","2024-04-10","2024-04-11","2024-04-12","2024-04-15","2024-04-16","2024-04-17","2024-04-18","2024-04-19","2024-04-22","2024-04-23","2024-04-24","2024-04-25","2024-04-26","2024-04-29","2024-04-30","2024-05-01","2024-05-02","2024-05-03","2024-05-06","2024-05-07","2024-05-08","2024-05-09","2024-05-10","2024-05-13","2024-05-14","2024-05-15","2024-05-16","2024-05-17","2024-05-21","2024-05-22","2024-05-23","2024-05-24","2024-05-27","2024-05-28","2024-05-29","2024-05-30","2024-05-31","2024-06-03","2024-06-04","2024-06-05","2024-06-06","2024-06-07","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-08","2024-07-09","2024-07-10","2024-07-11","2024-07-12","2024-07-15","2024-07-16","2024-07-17","2024-07-18","2024-07-19","2024-07-22","2024-07-23","2024-07-24","2024-07-25","2024-07-26","2024-07-29","2024-07-30","2024-07-31","2024-08-01","2024-08-02","2024-08-06","2024-08-07","2024-08-08","2024-08-09","2024-08-12","2024-08-13","2024-08-14","2024-08-15","2024-08-16","2024-08-19","2024-08-20","2024-08-21","2024-08-22","2024-08-23","2024-08-26","2024-08-27","2024-08-28","2024-08-29","2024-08-30","2024-09-03","2024-09-04","2024-09-05","2024-09-06","2024-09-09","2024-09-10","2024-09-11","2024-09-12","2024-09-13","2024-09-16","2024-09-17","2024-09-18","2024-09-19","2024-09-20","2024-09-23","2024-09-24","2024-09-25","2024-09-26","2024-09-27","2024-09-30","2024-10-01","2024-10-02","2024-10-03","2024-10-04","2024-10-07","2024-10-08","2024-10-09","2024-10-10","2024-10-11","2024-10-15","2024-10-16","2024-10-17","2024-10-18","2024-10-21","2024-10-22","2024-10-23","2024-10-24","2024-10-25","2024-10-28","2024-10-29","2024-10-30","2024-10-31","2024-11-01","2024-11-04","2024-11-05","2024-11-06","2024-11-07","2024-11-08","2024-11-11","2024-11-12","2024-11-13","2024-11-14","2024-11-15","2024-11-18","2024-11-19","2024-11-20","2024-11-21","2024-11-22","2024-11-25","2024-11-26","2024-11-27","2024-11-28","2024-11-29","2024-12-02","2024-12-03","2024-12-04","2024-12-05","2024-12-06","2024-12-09","2024-12-10","2024-12-11","2024-12-12","2024-12-13","2024-12-16","2024-12-17","2024-12-18","2024-12-19","2024-12-20","2024-12-23","2024-12-24","2024-12-27","2024-12-30","2024-12-31","2025-01-02","2025-01-03","2025-01-06","2025-01-07","2025-01-08","2025-01-09","2025-01-10","2025-01-13","2025-01-14","2025-01-15","2025-01-16","2025-01-17","2025-01-20","2025-01-21","2025-01-22","2025-01-23","2025-01-24","2025-01-27","2025-01-28","2025-01-29","2025-01-30","2025-01-31","2025-02-03","2025-02-04","2025-02-05","2025-02-06","2025-02-07","2025-02-10","2025-02-11","2025-02-12","2025-02-13","2025-02-14","2025-02-18","2025-02-19","2025-02-20","2025-02-21","2025-02-24","2025-02-25","2025-02-26","2025-02-27","2025-02-28","2025-03-03","2025-03-04","2025-03-05","2025-03-06","2025-03-07","2025-03-10","2025-03-11","2025-03-12","2025-03-13","2025-03-14","2025-03-17","2025-03-18","2025-03-19","2025-03-20","2025-03-21","2025-03-24","2025-03-25","2025-03-26","2025-03-27","2025-03-28","2025-03-31","2025-04-01","2025-04-02","2025-04-03","2025-04-04","2025-04-07","2025-04-08","2025-04-09","2025-04-10","2025-04-11","2025-04-14","2025-04-15","2025-04-16","2025-04-17","2025-04-21","2025-04-22","2025-04-23","2025-04-24","2025-04-25","2025-04-28","2025-04-29","2025-04-30","2025-05-01","2025-05-02","2025-05-05","2025-05-06","2025-05-07","2025-05-08","2025-05-09","2025-05-12","2025-05-13","2025-05-14","2025-05-15","2025-05-16","2025-05-20","2025-05-21","2025-05-22","2025-05-23","2025-05-26","2025-05-27","2025-05-28","2025-05-29","2025-05-30","2025-06-02","2025-06-03","2025-06-04","2025-06-05","2025-06-06","2025-06-09","2025-06-10","2025-06-11","2025-06-12","2025-06-13","2025-06-16","2025-06-17","2025-06-18","2025-06-19","2025-06-20","2025-06-23","2025-06-24","2025-06-25","2025-06-26","2025-06-27","2025-06-30","2025-07-02","2025-07-03","2025-07-04","2025-07-07","2025-07-08","2025-07-09","2025-07-10","2025-07-11","2025-07-14","2025-07-15","2025-07-16","2025-07-17","2025-07-18","2025-07-21","2025-07-22","2025-07-23","2025-07-24","2025-07-25","2025-07-28","2025-07-29","2025-07-30","2025-07-31","2025-08-01","2025-08-05","2025-08-06","2025-08-07","2025-08-08","2025-08-11","2025-08-12","2025-08-13","2025-08-14","2025-08-15","2025-08-18","2025-08-19","2025-08-20","2025-08-21","2025-08-22","2025-08-25","2025-08-26","2025-08-27","2025-08-28","2025-08-29","2025-09-02","2025-09-03","2025-09-04","2025-09-05","2025-09-08","2025-09-09","2025-09-10","2025-09-11","2025-09-12","2025-09-15","2025-09-16","2025-09-17","2025-09-18","2025-09-19","2025-09-22","2025-09-23","2025-09-24"];;
  const close1 =  [10000,9955,9987,10018,10088,10088,10107,10138,10144,10270,10302,10289,10233,10207,10037,10012,10182,10201,10214,9992,10056,9917,10100,10119,9999,10011,10056,10087,10163,10030,10100,10100,10062,10037,9841,9784,9891,9929,9840,9719,9674,9909,9770,9814,9827,9820,9833,9801,9929,9954,10018,10024,9998,9903,9859,9725,9655,9668,9789,9871,9960,10024,10101,10075,9915,9986,9954,9947,10037,10037,10171,10222,10292,10356,10356,10362,10439,10413,10369,10401,10394,10445,10355,10233,10188,10278,10233,10144,10208,10195,10169,10169,9932,9906,9868,9810,9714,9810,9810,9708,9836,9970,9925,9847,9899,9867,9738,9661,9661,9757,9731,9867,9950,9983,9957,9918,9950,9802,9725,9706,9609,9506,9641,9622,9486,9234,9259,9344,9337,9434,9505,9421,9376,9428,9473,9473,9324,9046,9014,8942,8923,9007,8897,9046,9040,9072,9319,9449,9430,9404,9417,9430,9456,9456,9670,9690,9696,9781,9794,9755,9657,9638,9664,9612,9436,9599,9769,9900,9926,9965,9978,9965,10063,10083,10083,10266,10481,10442,10494,10664,10690,10690,10782,10854,10827,10860,10853,10768,10807,10846,10860,10840,10774,10636,10591,10636,10564,10518,10525,10643,10610,10623,10702,10728,10715,10755,10774,10714,10688,10655,10589,10589,10536,10490,10576,10668,10457,10596,10734,10721,10826,10734,10826,10846,10846,10695,10753,10859,10912,10959,10992,11051,11051,11124,11144,11144,11223,11203,11144,11117,11164,11184,11362,11369,11369,11349,11408,11495,11448,11402,11375,11342,11415,11495,11501,11315,11262,11162,11169,10976,10963,10996,11076,11116,11129,11076,11116,11123,11048,11048,11015,11042,11068,11122,11169,11262,11302,11382,11395,11369,11409,11389,11435,11402,11349,11289,11355,11355,11302,11082,11309,11274,11274,11288,11355,11268,11248,11254,11194,11053,10946,10852,10819,10879,10852,10752,10752,10859,10943,10876,10953,10966,10939,11100,11114,11114,11026,11134,11211,11282,11379,11396,11470,11480,11457,11457,11551,11504,11511,11497,11605,11591,11591,11665,11516,11280,11219,11199,11327,11314,11375,11388,11462,11584,11652,11719,11753,11773,11753,11874,11874,11820,11834,12043,12117,12131,12226,12266,12348,12429,12355,12531,12585,12639,12687,12748,12673,12802,12863,12782,12744,12748,12863,12849,12849,12828,12849,12774,12794,12815,12842,12890,12794,12910,12944,12958,13087,13107,13039,13067,13067,13073,13073,13080,13094,13101,12991,13021,13025,13086,13202,13271,13250,13291,13312,13298,13346,13325,13353,13394,13462,13482,13605,13605,13612,13646,13646,13687,13687,13591,13591,13591,13742,13769,13783,13810,13748,13728,13701,13666,13550,13461,13488,13509,13536,13536,13502,13420,13475,13461,13461,13440,13440,13495,13427,13317,13379,13481,13529,13597,13584,13652,13618,13659,13693,13714,13755,13748,13884,13726,13418,13315,13363,13431,13397,13431,13486,13438,13459,13514,13507,13411,13418,13380,13363,13548,13438,13404,13465,13369,13080,13011,12867,12942,12887,12702,12771,12771,12743,12929,12839,12963,12942,12846,13046,13121,13104,13032,12874,12949,12866,12942,12949,12466,12141,12058,12493,12155,12279,12514,12624,12569,12645,12590,12818,12873,12928,12977,13087,13191,13231,13287,13398,13384,13328,13384,13474,13515,13668,13723,13820,13938,13990,14014,14007,14104,14077,14125,14222,14374,14319,14353,14318,14346,14332,14367,14423,14409,14447,14367,14388,14332,14443,14364,14443,14436,14443,14492,14617,14610,14610,14749,14862,14974,14974,15058,15051,15044,15134,15204,15148,15134,15078,15169,15295,15260,15312,15330,15385,15364,15413,15364,15288,15281,15193,15165,15277,15305,15284,15375,15431,15514,15619,15696,15738,15682,15682,15703,15717,15815,15717,16102,16200,16116,16224,16274,16428,16540,16547,16512,16625,16695,16786,16723,16797,16891,16951,16955,17060,17116,17130,17165];;
  const div1 =  [10000,9955,9987,10018,10088,10088,10107,10138,10144,10270,10302,10289,10233,10207,10037,10012,10231,10250,10263,10040,10104,9964,10148,10168,10047,10059,10104,10136,10212,10079,10148,10148,10110,10085,9888,9831,9939,9977,9935,9814,9769,10006,9865,9910,9923,9916,9929,9897,10025,10051,10115,10122,10096,10000,9955,9820,9749,9762,9884,9968,10106,10171,10249,10223,10061,10132,10100,10093,10184,10184,10320,10372,10443,10508,10508,10514,10592,10566,10521,10553,10595,10647,10555,10431,10385,10477,10431,10340,10405,10392,10366,10366,10124,10098,10059,10000,9902,10000,10000,9895,10026,10163,10165,10086,10139,10106,9974,9895,9895,9994,9968,10106,10192,10225,10198,10159,10192,10040,9961,9941,9842,9737,9924,9904,9764,9504,9531,9618,9611,9711,9784,9697,9651,9704,9751,9751,9598,9311,9278,9205,9185,9271,9158,9360,9353,9387,9643,9777,9757,9730,9744,9757,9784,9784,10006,10026,10033,10120,10134,10094,9993,9972,9999,9945,9764,9981,10158,10293,10321,10361,10375,10361,10463,10484,10484,10674,10898,10857,10912,11088,11116,11116,11211,11286,11306,11341,11334,11245,11286,11327,11341,11320,11252,11108,11060,11108,11032,10984,10991,11114,11080,11094,11176,11204,11190,11231,11300,11237,11210,11175,11106,11106,11051,11002,11092,11189,10968,11113,11258,11244,11355,11258,11355,11376,11376,11217,11327,11439,11495,11543,11578,11641,11641,11718,11739,11739,11822,11801,11739,11711,11760,11780,11969,11976,11976,11955,12066,12157,12108,12059,12031,11995,12073,12157,12164,11967,11911,11806,11813,11609,11595,11630,11714,11757,11771,11714,11757,11764,11734,11734,11699,11727,11755,11812,11862,11961,12003,12088,12103,12074,12117,12095,12145,12110,12053,11989,12060,12060,12003,11769,12010,12023,12023,12037,12109,12016,11994,12001,11937,11787,11673,11573,11537,11601,11573,11466,11466,11580,11669,11598,11680,11742,11714,11886,11901,11901,11807,11923,12005,12081,12185,12203,12283,12294,12268,12268,12369,12319,12326,12312,12427,12412,12412,12540,12380,12126,12061,12039,12177,12162,12228,12242,12322,12453,12525,12598,12634,12656,12634,12765,12765,12707,12722,12947,13075,13090,13192,13236,13324,13411,13331,13521,13580,13638,13690,13755,13675,13814,13880,13792,13752,13755,13880,13913,13913,13891,13913,13832,13854,13876,13906,13957,13854,13979,14016,14031,14171,14193,14119,14149,14149,14156,14156,14164,14178,14186,14116,14149,14153,14219,14346,14420,14398,14442,14464,14449,14501,14479,14509,14553,14628,14650,14783,14783,14791,14828,14828,14921,14921,14816,14816,14816,14980,15010,15025,15055,14988,14966,14936,14898,14771,14674,14704,14726,14756,14756,14719,14678,14738,14723,14723,14701,14701,14760,14686,14566,14633,14745,14798,14872,14857,14932,14895,14940,14977,14999,15044,15037,15186,15061,14723,14610,14663,14738,14700,14738,14798,14746,14768,14828,14821,14716,14723,14682,14663,14866,14746,14708,14824,14718,14400,14324,14165,14248,14188,13983,14059,14059,14029,14233,14135,14271,14248,14142,14362,14445,14426,14347,14172,14304,14212,14296,14304,13770,13412,13320,13801,13427,13564,13823,13945,13884,13968,13907,14159,14220,14281,14334,14456,14571,14664,14726,14849,14833,14772,14833,14933,14979,15148,15209,15317,15447,15505,15532,15524,15632,15601,15655,15762,15931,15870,15956,15917,15948,15933,15971,16033,16018,16060,15971,15994,15933,16056,15967,16056,16049,16056,16110,16249,16242,16242,16396,16572,16697,16697,16790,16782,16775,16876,16954,16891,16876,16814,16915,17055,17016,17074,17094,17156,17132,17187,17132,17047,17039,16993,16961,17087,17118,17094,17196,17259,17353,17470,17556,17603,17541,17541,17564,17580,17689,17580,18010,18120,18026,18199,18254,18427,18553,18561,18522,18648,18726,18829,18758,18841,18947,19014,19018,19136,19199,19215,19254];;
  const log_close =  [-0.2284086082100938,-0.23282923021791735,-0.22966983222266935,-0.22652038459419588,-0.21962595967389653,-0.21962595967389653,-0.21775376789048462,-0.21464156857715722,-0.21402026292342224,-0.2016742716198059,-0.19861137882386437,-0.19983561863589028,-0.20536207785535154,-0.2078281488637801,-0.2246353194307611,-0.22714950784638965,-0.20551039478357813,-0.20364757767504926,-0.20240760279053793,-0.22433127641863226,-0.21801827547204278,-0.23196014773105,-0.21362258982607063,-0.21174454779623408,-0.22369810621726893,-0.22243316788539635,-0.21801827547204278,-0.2148764253132618,-0.2073764908299176,-0.22053865534365968,-0.21362258982607063,-0.21362258982607063,-0.21738915516937896,-0.21990794791954027,-0.23964759838467753,-0.24545218465299445,-0.2345160254544436,-0.230684721823331,-0.23482987957097734,-0.2471799556409917,-0.25176868303012645,-0.22774937978327614,-0.24196141879340383,-0.2374175773741518,-0.23612272112197674,-0.2367699737542086,-0.2354761595038699,-0.23871370260453517,-0.2258266235336257,-0.22326904465619135,-0.21690370336893228,-0.21626951227068858,-0.21880909520185599,-0.22839082800349564,-0.23289388162447633,-0.246525863298511,-0.2537417446885235,-0.2524257300384387,-0.24001150995600673,-0.23160513721093734,-0.2178162144422826,-0.2114266488301988,-0.20381246183693413,-0.2063438442063119,-0.22231350932686222,-0.21525559420882123,-0.2184577652568236,-0.21909925677953046,-0.21015347357087677,-0.21015347357087677,-0.1968830828825583,-0.19187380939488374,-0.18502671037177087,-0.17884229857881184,-0.17884229857881184,-0.1782256585801716,-0.17085920606996252,-0.17330894438773292,-0.17761004430045224,-0.17453577800787778,-0.1705992560410574,-0.1656760720558803,-0.17430735696787103,-0.18614191698632787,-0.19053748378565682,-0.18176552153040726,-0.18614191698632787,-0.19495258893442946,-0.18865124689223878,-0.18990840842289103,-0.1924272194555754,-0.1924272194555754,-0.2160329802347869,-0.21861868263034578,-0.22250967989213777,-0.22837464289380094,-0.23822699609722475,-0.22837464289380094,-0.22837464289380094,-0.2388872240942863,-0.22576389637934957,-0.2121669195674789,-0.2119534063489703,-0.21977103971084233,-0.2145524318118417,-0.2178109961250012,-0.23095159150313593,-0.23891990305989896,-0.23891990305989896,-0.228969463791032,-0.23161315184330133,-0.2178109961250012,-0.20936111831249482,-0.2061299952839768,-0.20871397726458918,-0.21260251283814435,-0.20936111831249482,-0.22435981201642363,-0.23227528782476847,-0.23426405445748788,-0.24426751235930722,-0.2550491531437089,-0.23599534305901937,-0.2380108632064517,-0.25223398517401785,-0.2791972276394419,-0.2763980438224851,-0.2673543445429729,-0.2680471284116219,-0.2577057849446964,-0.2501894818221775,-0.25907865689666654,-0.2638978918367578,-0.2583917012615471,-0.25359921909176064,-0.25359921909176064,-0.26943420946604224,-0.2997286580659857,-0.30331187544858285,-0.31123966350492926,-0.3134128628455759,-0.30402980951167,-0.3163178281075263,-0.29449258443485427,-0.29521157116768304,-0.2916209840040782,-0.2647450283117605,-0.25088489289208393,-0.2529517736260427,-0.25571415810463494,-0.254332118667115,-0.2529517736260427,-0.2501969988992232,-0.2501969988992232,-0.22775469820000005,-0.22573905618788181,-0.22506810037050595,-0.21638701162630314,-0.21505816522784604,-0.2190501509501166,-0.22910046600556777,-0.23112290168430372,-0.22842739035652082,-0.23382548947020698,-0.2522623859070956,-0.23026726829052402,-0.21272293074014703,-0.199433740240472,-0.19679704472381454,-0.19285465516775702,-0.19154415057364726,-0.19285465516775702,-0.18306654714793513,-0.1811206888362764,-0.1811206888362764,-0.16313678733978954,-0.1423484718823369,-0.14609632673673456,-0.141102472000747,-0.1250428066679481,-0.12259503333162991,-0.12259503333162991,-0.11407364904779582,-0.10742930125752714,-0.10558694004292413,-0.10256144892265784,-0.10316595101994386,-0.11105667021462784,-0.10740692319219836,-0.10377057185200522,-0.10256144892265784,-0.10437562023620472,-0.11044769145477229,-0.12331924842978825,-0.127646807533913,-0.12331924842978825,-0.1301284407371721,-0.1344855047796374,-0.1338618399539615,-0.12270256964073267,-0.12578977356346588,-0.12455381108358665,-0.11716931948662523,-0.11471947466631649,-0.11594370934246356,-0.11227636397536545,-0.10617428727633182,-0.11169434283517576,-0.11415740443162559,-0.11724453593433415,-0.1234481070772957,-0.1234481070772957,-0.12843883522836164,-0.13282612845251585,-0.12469350347149932,-0.11600869007237646,-0.13597178177037472,-0.12282608480861468,-0.10985083261872841,-0.11107952418761657,-0.1012934890432815,-0.10985083261872841,-0.1012934890432815,-0.099469036148637,-0.099469036148637,-0.11354094484136823,-0.10373316408625088,-0.09393522577134839,-0.08907199220808337,-0.08483610019744958,-0.0818210802289907,-0.07641728279016302,-0.07641728279016302,-0.06985229355651201,-0.06806881064232684,-0.06806881064232684,-0.06096806893405704,-0.06273892147258531,-0.06806881064232684,-0.07044705377818783,-0.06628916257502526,-0.06451249643118118,-0.04866226008703434,-0.048080136083842095,-0.048080136083842095,-0.049827643672594846,-0.04057964545437809,-0.03303687802254718,-0.037091243256123896,-0.04116223074997505,-0.043495971932252964,-0.04642094631492011,-0.03999751667366125,-0.03303687802254718,-0.03245912232236314,-0.04876688840872623,-0.05347558556179299,-0.06236442204236514,-0.0617696562217378,-0.07917148647830885,-0.08038306604458478,-0.07735719992378165,-0.07013248974971242,-0.06653976509404913,-0.06534501276007587,-0.07013248974971242,-0.06653976509404913,-0.06594251147343799,-0.06845696137163149,-0.06845696137163149,-0.07148067096800625,-0.0690610086887502,-0.06664712655650185,-0.06183623097055735,-0.05764574227452757,-0.049317555967196114,-0.045769118111948615,-0.03871061820754207,-0.03753908900472114,-0.03988352150098118,-0.03636857856698805,-0.038124682046057234,-0.0340321283581515,-0.036953721243319304,-0.0416455779143976,-0.04695045315777957,-0.041058037955306936,-0.041058037955306936,-0.045769118111948615,-0.06544218579146177,-0.04517926953076712,-0.044139093724031575,-0.044139093724031575,-0.042951650380943285,-0.03703454893782787,-0.04473370108656116,-0.04651869506645845,-0.04592326366072985,-0.051294833309163845,-0.06394177565319659,-0.07368590350367699,-0.08229085935849856,-0.08538207351118698,-0.07982494662408568,-0.08229085935849856,-0.09159325490366443,-0.09159325490366443,-0.08167387252760472,-0.07399213965096418,-0.08013288416117748,-0.07307426255067195,-0.06774518508552818,-0.07020209527982013,-0.055549648896665804,-0.05433845864929099,-0.05433845864929099,-0.062238911504328254,-0.05252402856709759,-0.04559939090012932,-0.03931855086169955,-0.030708967729740966,-0.02923245337755409,-0.022759907791769063,-0.02188054086058111,-0.02393395184913727,-0.02393395184913727,-0.01574652962327816,-0.019831570527269804,-0.019247070285957513,-0.020416762009628275,-0.01109789157067853,-0.012258084492094312,-0.012258084492094312,-0.002028664232258226,-0.014849597056026287,-0.035590922271238945,-0.04099472893198497,-0.04280246664110843,-0.031407932708849895,-0.03260142346517636,-0.02724260313190552,-0.02605572235326159,-0.019552588959830697,-0.009001473273376082,-0.0031876960657335474,0.0025927049371556876,0.005470480611208917,0.007193042736374,0.005470480611208917,0.015762188034651015,0.015762188034651015,0.011201079147293402,0.012343336487911305,0.029882762817333486,0.03973890703173222,0.04085739514077069,0.04865263530169939,0.051974877695213806,0.05858664971125638,0.06515456224190519,0.059135554119780664,0.07330457237533139,0.07762445645235738,0.08192544154181114,0.08567366215413053,0.09047241601343847,0.08460432574089438,0.0947187166868777,0.09947425974621593,0.09312842691527523,0.09020652108134142,0.09047241601343847,0.09947425974621593,0.10187507696299836,0.10187507696299836,0.1002847308444137,0.10187507696299836,0.09603185545800708,0.09762897411340266,0.09922344155519269,0.10134531207677222,0.1050480977647581,0.09762897411340266,0.10663058130856173,0.10926308777010885,0.11031398764547928,0.1202434517840314,0.12180219145307758,0.11659681323809057,0.11868227865199943,0.11868227865199943,0.11920294054980518,0.11920294054980518,0.1197232291276511,0.12076319941790681,0.12128298369255752,0.11631590224029198,0.11867874550000312,0.11894114495532326,0.12364952943627161,0.13248307509944368,0.13764291137529971,0.13609780460768794,0.13918563447054222,0.14072618242113588,0.1396995148933584,0.14328839973778562,0.141751897472699,0.14380007640380965,0.14686435055738123,0.1519506998854907,0.153471722475083,0.16254900165304376,0.16254900165304376,0.16305082149844674,0.16555644468974196,0.16555644468974196,0.17179006793632956,0.17179006793632956,0.1647549922539251,0.1647549922539251,0.1647549922539251,0.1757879316314761,0.17778112894413578,0.17877619118700716,0.18076325318208086,0.17628692007478675,0.1747900850350228,0.17279110655951513,0.17028677556691907,0.16172477107793481,0.15512723962457287,0.1571619045492718,0.15868504236815717,0.16071229068858406,0.16071229068858406,0.15817748831413336,0.15540139756400873,0.15946440446878318,0.15845014958295378,0.15845014958295378,0.15692688561959667,0.15692688561959667,0.16098381095240555,0.15591015219454896,0.14773855245015355,0.1523433222244548,0.15997119606812138,0.16351087115153806,0.16854630767685652,0.16754132564056468,0.17255616628122228,0.170051987865929,0.1730563679755983,0.17555323912856036,0.17704841385153447,0.1800318786146189,0.17953534960891115,0.18942170176046425,0.18117656777820468,0.15845400184103653,0.15076350922299087,0.15435970031502233,0.1594749134595692,0.15692042763262437,0.1594749134595692,0.16354816914091286,0.15998502850964602,0.1615136152252883,0.16557849296068428,0.16507142225736526,0.15794300514430848,0.15845400184103653,0.1556410337579046,0.15435970031502233,0.1681110840513962,0.15998502850964602,0.15743184709655722,0.16526090190103382,0.15808514926039852,0.1362433640575964,0.1309718746763573,0.11981032482626341,0.12567244936583277,0.12141265771772325,0.10689996618636322,0.11229964873159926,0.11229964873159926,0.11014329425508906,0.12460912373783017,0.11767022693310203,0.12726521752147457,0.12567244936583277,0.11820573305495463,0.13361104161609516,0.1393929501034128,0.13808174276044705,0.13255623106760916,0.1203446864438491,0.12956441483550263,0.12314711918605203,0.12903108959905074,0.12956441483550263,0.09153694309145477,0.0651680726290631,0.05832257723113221,0.09374924601536705,0.06630439135791866,0.07647389696150331,0.09540521374221944,0.10419194378071639,0.09980822955851831,0.10583072280324934,0.10145430872547045,0.11938467727875635,0.12368348687848707,0.1279639993629429,0.13169415363480175,0.14016885725647343,0.1480491639785919,0.15445190084056248,0.15863152739225272,0.16693903477720573,0.16590415015636717,0.16175497357424096,0.16590415015636717,0.17261049354431046,0.17569054857038546,0.1869037704627461,0.1909503047589336,0.19799264901099,0.20647789713684528,0.21019846905046347,0.21193008644970757,0.21143558988806177,0.21833562882958057,0.21636901537794273,0.21980791277885414,0.22665080820596817,0.23730959615921332,0.23344682241557946,0.23886307637795223,0.23643888439509553,0.23837867055435957,0.2374093412505518,0.23983118464594932,0.2436939939810232,0.24272961991755437,0.2453793676259428,0.23983118464594932,0.24128140586299596,0.2374093412505518,0.24513881353276545,0.23958919881734486,0.24513881353276545,0.2446575316779649,0.24513881353276545,0.2485017783742265,0.2570977470847797,0.25662218792959113,0.25662218792959113,0.2660918453563408,0.27677774738888816,0.2842579919363408,0.2842579919363408,0.28983166064937915,0.2893683210621454,0.2889048557034908,0.2949136577767426,0.29951138204235095,0.2958348245929603,0.2949136577767426,0.2912202150889489,0.29721507401574776,0.30545688893387135,0.30317429641519444,0.3065962343260309,0.30773428308743833,0.3113673426313017,0.31000650249956907,0.31317897812955087,0.31000650249956907,0.30500082209431056,0.3045445471628807,0.30181945727158643,0.29997530064355615,0.30733169671357397,0.30916243663125353,0.30778967409858327,0.3137243717731506,0.3173590642019066,0.3227865379582511,0.3295296089200561,0.33444587413673066,0.3371172745063067,0.33355381912760507,0.33355381912760507,0.3348916034078484,0.3357824663687454,0.341996468422594,0.3357824663687454,0.3599754346940971,0.36604127245517626,0.36084423891860773,0.37038915901786895,0.37341355939795173,0.3828597143823984,0.3896740444362732,0.3900984123212714,0.3879748508140346,0.3947545312241636,0.3989686284584195,0.404420483409341,0.4006492594362756,0.4050476137710892,0.41067439667049177,0.4142010466053154,0.41440807262360124,0.42060002727068424,0.42388679795096573,0.42470682498601864,0.42675395544581596];;
  const log_sp500 =  [-0.24417096283190176,-0.24666644448902275,-0.2430936713562204,-0.2420978643392111,-0.24213921767219304,-0.24628267399565473,-0.23310716349782368,-0.23517868108240236,-0.23187797749978678,-0.23102312269632108,-0.23110738824426136,-0.23707772343257183,-0.23617494217527124,-0.23532372539699864,-0.251260909215576,-0.2551094927189208,-0.23573229931622386,-0.22751296800297993,-0.2278991490514901,-0.2395530557320633,-0.246575963786956,-0.25382087724201874,-0.23551471086013898,-0.23506268437525613,-0.23965262332431614,-0.23517868108240236,-0.23687674597210773,-0.23846130756154693,-0.2355075098812307,-0.2419056175631482,-0.23008492894107668,-0.22068420587734927,-0.2221311197580249,-0.23326156584650626,-0.24060707852481222,-0.2318876224458002,-0.21892294151416003,-0.21890633838349416,-0.21890633838349416,-0.2250336965697084,-0.21522748148385418,-0.2007976690937472,-0.202803260584405,-0.20045213035055376,-0.20427142427697476,-0.1981018526694509,-0.19695445164640013,-0.18767647666464526,-0.18076790593873682,-0.17994881595861045,-0.16784423546502047,-0.1715226119327724,-0.1762689657680081,-0.1762689657680081,-0.18152805213493295,-0.17782412174759799,-0.185512409804101,-0.19000934416723325,-0.17861861064305096,-0.1789727500314413,-0.1745091819169513,-0.1623148316550651,-0.16311509666000568,-0.16311509666000568,-0.17106915783590004,-0.17393837063163353,-0.17153623202100654,-0.16481664802275198,-0.1574327427873623,-0.14899825979773595,-0.1500231919946433,-0.14617522242022218,-0.13908315547879369,-0.1367280206515602,-0.14350784804781824,-0.14318380603320513,-0.13915776753633047,-0.13634704796049135,-0.13650249893916744,-0.14294789199436408,-0.13311851618393078,-0.13165088074736175,-0.1343195260550445,-0.14825572669337994,-0.15080695214367168,-0.15612112151761082,-0.15136470765281196,-0.15842832675485852,-0.15817764423377767,-0.1592479091330059,-0.1535139042535878,-0.1651320436496846,-0.1727161254423084,-0.1804589368198375,-0.18060765470379536,-0.17375201984399524,-0.17653335089054067,-0.16554902017974982,-0.1790983741637575,-0.17240287310346147,-0.1661577945092656,-0.15175372579720836,-0.14792787161601595,-0.14952608459035588,-0.14772857182483712,-0.15193156964621934,-0.1589275841376505,-0.16214401725338412,-0.16071841119112662,-0.15401745969299085,-0.15972962871599528,-0.15848876659846134,-0.15009418106479444,-0.1623283269072875,-0.161607299213113,-0.1637606265746463,-0.1731998307809377,-0.18973674909942595,-0.1920349865021862,-0.18801999229837918,-0.2028641577806436,-0.20263487000834957,-0.19675899286534815,-0.19947225251363854,-0.1993928881074858,-0.21323228397093352,-0.20515523636310462,-0.20646011751010107,-0.19471447541613962,-0.18323593119676573,-0.17895211169667036,-0.18521813663732623,-0.19024963229754555,-0.17971098999495538,-0.1798092398744,-0.19329964812555112,-0.2018186804536093,-0.2144838296497653,-0.21617082171520074,-0.2089312981955711,-0.2233747328528093,-0.23527781405839399,-0.24008965263701576,-0.22815117833672893,-0.22169709351504174,-0.2112458985248491,-0.19256295959076297,-0.1832130760462114,-0.1814616183221105,-0.17862552492039896,-0.1776211138879784,-0.18573780458704725,-0.17024204531627518,-0.17107823375764575,-0.15218286328306796,-0.1505871250752211,-0.14939740567850812,-0.14811617774132912,-0.14075307394753445,-0.14277604987929138,-0.1387231447849775,-0.13812644917533312,-0.13812644917533312,-0.14008251849223186,-0.13910287996418091,-0.1400495765792833,-0.13627264531428906,-0.13041608636044266,-0.1358392744242689,-0.13640830601820397,-0.14032215796314773,-0.13238554727832508,-0.12829841313182122,-0.12438159958404071,-0.1197927867883486,-0.10623444161332785,-0.10359087642817322,-0.10366712882862217,-0.09914900656522185,-0.0932997391144017,-0.10809288707970843,-0.09784411777243562,-0.09618543561967563,-0.09053323895627408,-0.09016313284594624,-0.09299360988268113,-0.09867027068240297,-0.10671888900960091,-0.11015316067291891,-0.10832913903348462,-0.09431319359713086,-0.09579218744944917,-0.09014220679895324,-0.09081348763591457,-0.09006279388288085,-0.09380111293523719,-0.09380111293523719,-0.09943384420634516,-0.09066712348010242,-0.07842881524755363,-0.07623689406032241,-0.07331977871955786,-0.07250817974334112,-0.06726160160836159,-0.06791359936378782,-0.060385233858541554,-0.060986064255521555,-0.07722291599625386,-0.06480662988220409,-0.05417885915957221,-0.05737028386885612,-0.05506253793710769,-0.04685485534309919,-0.04628443480300781,-0.04055851767421359,-0.04150792181686569,-0.055276531236710724,-0.04574236293249356,-0.03993799025845313,-0.044753033834414424,-0.05077646030023253,-0.04951305880512891,-0.02861017013872491,-0.02826228311222323,-0.032056222356890984,-0.03035132681817032,-0.03201085813928195,-0.02679538768348344,-0.018819451250095653,-0.020013425825057496,-0.030258832100976463,-0.025130899247974625,-0.014879496962990402,-0.021429419955040885,-0.02255228822306954,-0.011412775636401307,-0.013339159638523057,-0.016214380690017904,-0.022718403549756516,-0.01642021931127502,-0.010786966266932652,-0.001922200750572145,0.0013091083439569218,-9.406349036922279e-05,-0.0031537038724014366,-0.005957425855207532,0.002636169727498583,0.0037520324282596107,0.0017364179013021896,-0.005528970302369984,-0.004438442779031604,-0.016849478398293982,-0.005811428262594731,-0.006186129452636635,-0.0047416799790021,-0.014243661811214281,-0.006826439827872122,-0.021484027630119584,-0.03357822341757988,-0.03563684794508326,-0.04143422302108846,-0.04364482472157327,-0.05244195437562915,-0.04374860321879126,-0.03185503665106815,-0.03164204927313641,-0.03622898354325521,-0.026071602210929967,-0.022898194134290506,-0.03875374525321895,-0.042195098738849524,-0.03310807401376614,-0.020629516354256694,-0.010356342663008888,-0.009013814434183587,-0.009019650069378216,-0.003941617430269773,-0.002293577350103604,-0.0025349105239698133,0.0022912380034849633,0.013939065790784966,0.011855228316695943,0.01301932400459016,0.01643404407997373,0.013724252870622067,0.006316090587150214,0.013292739663823383,0.013541510570709292,0.013541510570709292,0.006147193354966163,0.00015423581921325535,0.008150060051141494,0.009265520274675865,0.010767201278460092,0.02254521712841573,0.02234538052677948,0.021229538476500665,0.02380706845474201,0.026513783309951577,0.0349815035518386,0.03732341498895586,0.03692947670795732,0.04456464108027802,0.047082795261795596,0.04455366786638315,0.04455366786638315,0.042990316147559327,0.03992043699169123,0.04384631067087419,0.04541750689559443,0.04632441675239285,0.04223240329002387,0.05108060004263848,0.05615216231217168,0.0615861366731405,0.0615861366731405,0.06260231914954595,0.06334311662761039,0.07349943150571647,0.06469778153645045,0.07019964556141467,0.07302186198476868,0.07939091195622083,0.06536547043257634,0.057518358287225624,0.05035247906081963,0.06108669630704,0.05952737861309387,0.03610613639020066,0.030950247370483908,0.0419796677800548,0.04279264735188271,0.03782013299051634,0.05349011369243328,0.03970198990044338,0.021149083291890136,0.0010228913930969696,-0.006741823995673357,0.016039315595225645,0.02070011402960681,0.02074314708132796,0.037450380500377634,0.04126681706157598,0.057271306992880966,0.05925910936127643,0.06893443679745381,0.06694790955984509,0.07117862428085076,0.062205682024194076,0.07362361942585771,0.07046490925625193,0.07205883436897587,0.06606493357424092,0.06602555373080321,0.07606801080994785,0.054690047437549794,0.053086218410168584,0.050063637395494354,0.032652692888071044,0.04416622732388831,0.04862892730168333,0.05923748295152542,0.06670483510832881,0.07209797734268442,0.07335381820999487,0.07361833330389089,0.07071767459557776,0.08755203148830404,0.08560911785828829,0.08841445228400069,0.09092248338734699,0.08905950018113451,0.09309004233933393,0.09183603943926144,0.09606364309770221,0.08669579440324782,0.08683417573023533,0.08515134707577587,0.09408160277496158,0.08444933894557316,0.09409204575026742,0.10118027676726271,0.09910800826128074,0.10514161696857904,0.10518116550565892,0.1098493982884392,0.10967822315990183,0.11364191010267533,0.11181747734625702,0.11134251067906042,0.10210868641138049,0.10425215954193767,0.10395266752875187,0.10660060215548484,0.10821342810038637,0.10490773642789719,0.08611760149915249,0.09020175950367815,0.0873857146904875,0.09957674572005004,0.12455802667723681,0.131961780851233,0.13571157488695107,0.13668016907790737,0.13378331760097062,0.13401551836511238,0.1279474097828679,0.11465597891607437,0.11856613866228116,0.12252188918287743,0.12254383980421224,0.12787009164850005,0.13133205124003666,0.13434797906016271,0.14005367621542497,0.1362451951318473,0.1418373155286492,0.1418373155286492,0.14428277940923095,0.14473412665125274,0.15076730827938967,0.14889578244000745,0.15138812780754485,0.14522496052231837,0.1422566762080386,0.15038930261940742,0.14496057115794336,0.14493410416857166,0.14872625917735682,0.14485477969670058,0.11491827439218305,0.11405278764164528,0.12486326704404327,0.13212411662965984,0.14310634979478642,0.13158330374161586,0.12082362979988659,0.11652962334090411,0.11430326019145554,0.12682061689928048,0.1323433833960994,0.12117736187946271,0.12273650597329322,0.10720486832306086,0.10720486832306086,0.10877907270111464,0.10992469603527866,0.12807182853979526,0.12595690419892946,0.13589838250732278,0.14462839194791854,0.14462839194791854,0.15074757303491282,0.1560469924944421,0.1531877765099754,0.13849971747786327,0.1476753616555797,0.14298548559865942,0.14824703375083992,0.14318742976057308,0.13554973903107737,0.14274864643410723,0.14664970034972136,0.15028737470498754,0.14077752901132712,0.1474676413067808,0.14780716645045544,0.1450795832608076,0.15545189647504287,0.15537995007946925,0.15782195373502006,0.16019610260184436,0.1558524977175555,0.1386411010450157,0.13365960747876393,0.12896889234036735,0.1291049073699515,0.11311316469142696,0.1288429451120905,0.11108954246378033,0.09877925423227474,0.10987672676101035,0.09189704965355538,0.09740248469901047,0.07005894291058112,0.062462295992045114,0.06733726393253647,0.05334889712607094,0.07439180307926918,0.0807874380538749,0.07007677097955423,0.0808173791525082,0.0786300956387258,0.07945440924655855,0.09694652637519674,0.09851962186585084,0.08729998150825224,0.08398752050112002,0.0640529193742676,0.06957615973191267,0.0733502642871251,0.08005592571660891,0.030450013887612926,-0.031159048010618307,-0.03349324261658104,-0.04931832589363694,0.041576553939400185,0.006355946915288513,0.02428632775106543,0.032199647077408855,0.030470371852107547,0.00780711788720545,0.009133076510979166,-0.014716571823040425,0.01009038030240994,0.026614244669289633,0.046670872751873205,0.05401695754757441,0.0546574590865756,0.060443100632133095,0.06192199788406505,0.0682013436005171,0.08282053470963113,0.07641848768031245,0.0686955024019209,0.07303244050863,0.07881546165609699,0.07810372752122063,0.11014370419824004,0.11736576321848702,0.11838965446076344,0.12251347189952,0.12949432126761984,0.12648227376409693,0.11021555449633702,0.10977058447391563,0.10303968488244308,0.12329226568462737,0.12329226568462737,0.11770546310818197,0.12170863397881426,0.1216274455218187,0.12572109701244472,0.13150463054781447,0.13157831529253272,0.12628695731383566,0.13651515352921173,0.13743467871560355,0.14290269125724997,0.14015503093896342,0.14397016401063922,0.13260949542053702,0.14195831856872587,0.13357105884508158,0.13326177081036228,0.1310807355947734,0.1310807355947734,0.14064139066603332,0.15170171928299148,0.1516984331746425,0.15968656420715988,0.16489196346330992,0.17004310096943875,0.17365781816604908,0.1819621963767144,0.1740688282724694,0.1740688282724694,0.17335268502199952,0.1793964877987797,0.18213892887170502,0.17883595709847988,0.18024238142941584,0.1762782363637445,0.17946680488912747,0.18482618512913973,0.18473569482633145,0.18613385183200393,0.18677118032867135,0.19455271247437445,0.19525069247130666,0.19921714347298725,0.19939398594425484,0.19643015574678735,0.19517994180827714,0.19147827976190257,0.17535689257633358,0.18511675328728572,0.19237227550713953,0.19157447733531185,0.19934393215170054,0.19683666375781605,0.20811822283298653,0.21134309621703196,0.21164614109558677,0.2087448011792219,0.2086440329214856,0.20276870380927825,0.20033407317701446,0.19632185344806352,0.21139413860684186,0.20711862606719578,0.2112440997773124,0.2136322302306155,0.21678397767208146,0.2103652372692899,0.20341888720825807,0.20850599951119975,0.21681784661407377,0.21364767394413775,0.21575143839502609,0.21843598542509923,0.22141501365449656,0.22986510127759097,0.2293822233961631,0.23407780112272292,0.23278904068939177,0.23181840161114664,0.23659608944785404,0.2414696133853358,0.24586996410009831,0.24594166729500166,0.23786642617841203];;

  // Graphique 1
  const graph1 = document.getElementById("graph1");
  Plotly.newPlot(graph1, [
    {x:dates1, y:close1, type:"scatter", mode:"lines", name:"Prix", line:{color:"#007a33"}},
    {x:dates1, y:div1, type:"scatter", mode:"lines", name:"+dividende", line:{color:"orange"}}
  ], {margin:{t:30,l:50,r:30,b:40}, title:"Croissance de 10 000$", hovermode:"x unified"});

  // Graphique 2
  const graph2 = document.getElementById("graph2");
  Plotly.newPlot(graph2, [
    {x:dates1, y:log_close, type:"scatter", mode:"lines", name:"log(valeur)", line:{color:"#007a33"}},
    {x:dates1, y:log_sp500, type:"scatter", mode:"lines", name:"log(S&P500)", line:{color:"orange"}}
  ], {margin:{t:30,l:50,r:30,b:40}, title:"Comparaison avec S&P500", hovermode:"x unified"});

  // --- Synchronisation axes X ---
  graph1.on('plotly_relayout', function(e){
    if(e['xaxis.range[0]'] && e['xaxis.range[1]']){
      Plotly.relayout(graph2, {'xaxis.range':[e['xaxis.range[0]'], e['xaxis.range[1]']]});
    }
  });
  graph2.on('plotly_relayout', function(e){
    if(e['xaxis.range[0]'] && e['xaxis.range[1]']){
      Plotly.relayout(graph1, {'xaxis.range':[e['xaxis.range[0]'], e['xaxis.range[1]']]});
    }
  });

  // --- Graphique 3 : Scatter ---
  let tickers = ["CINF.TO","DMEC.TO","EBNK.TO","FCUV.TO","VFV.TO","ZEA.TO","ZID.TO","ZLU.TO","ZUQ.TO","ZWG.TO","ZXM.TO","ZWT.TO","ZWP.TO","ZWHC.TO","ZUT.TO","ZUH.TO","ZUD.TO","ZSML.TO","ZPW.TO","ZPH.TO","ZNQ.TO","ZMID.TO","ZLSU.TO","ZLI.TO","ZLE.TO","ZJPN.TO","ZJG.TO","ZIN.TO","ZHU.TO","ZGSB.TO","ZGRN.TO","ZGD.TO","ZFC.TO","ZEQT.TO","ZEO.TO","ZEB.TO","ZDY.TO","ZDM.TO","ZDI.TO","ZCON.TO","ZCLN.TO","ZBK.TO","ZACE.TO","XVLU.TO","XUT.TO","XUSF.TO","XUH.TO","XSUS.TO","XST.TO","XSP.TO","XSMC.TO","XSEM.TO","XSE.TO","XRE.TO","XQQ.TO","XPF.TO","XMW.TO","XMU.TO","XMS.TO","XML.TO","XMH.TO","XMC.TO","XLVE.TO","XIT.TO","XIN.TO","XIC.TO","XHU.TO","XHC.TO","XGRO.TO","XGD.TO","XFLX.TO","XFH.TO","XEU.TO","XESG.TO","XEN.TO","XEM.TO","XEH.TO","XEF.TO","XDV.TO","XDU.TO","XDRV.TO","XDIV.TO","XDG.TO","XCSR.TO","XCNS.TO","XCHP.TO","XCG.TO","XBM.TO","XAW.TO","XAGG.TO","WXM.TO","WSRD.TO","VXM.TO","VVO.TO","VUS.TO","VSP.TO","VRE.TO","VIU.TO","VI.TO","VGH.TO","VGAB.TO","VEF.TO","VE.TO","VDU.TO","VCN.TO","VCE.TO","VBAL.TO","UTIL.TO","USSL.TO","USCC.TO","UMAX.TO","UDEF.TO","TXF.TO","TUEX.TO","TTTX.TO","TRVL.TO","TQGM.TO","TQCD.TO","TPRF.TO","TOWR.TO","TLF.TO","TINF.TO","THU.TO","TGRO.TO","TGGR.TO","TGAF.TO","TECI.TO","TEC.TO","TCON.TO","TBNK.TO","SYLD.TO","SPLT.TO","SKYY.TO","RUDC.TO","RPF.TO","RPD.TO","RIRA.TO","RIGE.TO","RIDH.TO","REIT.TO","RCD.TO","RBNK.TO","QCN.TO","QCE.TO","QAH.TO","PYF.TO","PXC.TO","PRA.TO","PPLN.TO","PMIF.TO","PLDI.TO","PINC.TO","PID.TO","PHR.TO","PFMS.TO","PFLS.TO","PFAE.TO","PDIV.TO","PDC.TO","PCON.TO","PBD.TO","PAGF.TO","PABF.TO","ONEC.TO","NXF.TO","NVDH.TO","NUBF.TO","NSCE.TO","NPRF.TO","NHYB.TO","NDIV.TO","MUSC.TO","MUMC.TO","MULC.TO","MSHE.TO","MREL.TO","MNXT.TO","MIVG.TO","MINT.TO","MHCD.TO","MGQE.TO","MGB.TO","MFT.TO","MCSM.TO","MCON.TO","MCLC.TO","LS.TO","LMAX.TO","LLHE.TO","LEAD.TO","KNGU.TO","JEPI.TO","IXTE.TO","IUTE.TO","IUAE.TO","ISIF.TO","INOC.TO","INAI.TO","IICE.TO","IGEO.TO","IGB.TO","IFRF.TO","ICTE.TO","ICCB.TO","HYLD.TO","HXU.TO","HXS.TO","HXF.TO","HXDM.TO","HXCN.TO","HUTL.TO","HUM.TO","HUBL.TO","HTA.TO","HSH.TO","HQU.TO","HPR.TO","HOG.TO","HND.TO","HMAX.TO","HLIF.TO","HIU.TO","HIG.TO","HHL.TO","HGU.TO","HGRO.TO","HGGG.TO","HFU.TO","HFG.TO","HEX.TO","HEU.TO","HEQT.TO","HEP.TO","HEF.TO","HED.TO","HEA.TO","HDIV.TO","HDIF.TO","HDGE.TO","HCON.TO","HCLN.TO","HCAL.TO","HCA.TO","HBNK.TO","HBLK.TO","HBIG.TO","HBIE.TO","HBGD.TO","HBF.TO","HBD.TO","HBAL.TO","HBA.TO","HAZ.TO","HAL.TO","HAF.TO","HAC.TO","GRO.TO","GRNI.TO","GRCC.TO","GLCC.TO","GIQU.TO","GIQG.TO","GIES.TO","GGRO.TO","GEQT.TO","GDPY.TO","GDEP.TO","GCSC.TO","GCNS.TO","GCFE.TO","GBAL.TO","FXM.TO","FUD.TO","FTHI.TO","FST.TO","FSR.TO","FSF.TO","FPR.TO","FOUR.TO","FMAX.TO","FLX.TO","FLUS.TO","FLUR.TO","FLSD.TO","FLOT.TO","FLJA.TO","FLI.TO","FLCP.TO","FLCD.TO","FLAM.TO","FINT.TO","FINO.TO","FIE.TO","FHU.TO","FHQ.TO","FHM.TO","FHI.TO","FHH.TO","FHG.TO","FHF.TO","FHE.TO","FHD.TO","FHC.TO","FGO.TO","FGGE.TO","FGEP.TO","FGEB.TO","FGBL.TO","FDN.TO","FDL.TO","FCVH.TO","FCUQ.TO","FCUH.TO","FCUD.TO","FCSI.TO","FCRR.TO","FCQH.TO","FCMI.TO","FCIV.TO","FCIQ.TO","FCII.TO","FCID.TO","FCGI.TO","FCGB.TO","FCCV.TO","FCCQ.TO","FCCD.TO","FBT.TO","EVO.TO","ETSX.TO","ETP.TO","ETHI.TO","ESPX.TO","ESGY.TO","ESGG.TO","ESGE.TO","ESGC.TO","ESG.TO","EQY.TO","EQLI.TO","EQL.TO","EQCL.TO","EQCC.TO","ENCL.TO","ENCC.TO","EMAX.TO","EHE.TO","EGIF.TO","EDGF.TO","EDGE.TO","DXZ.TO","DXW.TO","DXUS.TO","DXU.TO","DXQ.TO","DXP.TO","DXN.TO","DXIF.TO","DXGE.TO","DXG.TO","DXF.TO","DXEM.TO","DXC.TO","DXAU.TO","DSAE.TO","DRMU.TO","DRME.TO","DRMD.TO","DRMC.TO","DRFU.TO","DRFG.TO","DRFE.TO","DRFD.TO","DMEU.TO","DMEI.TO","DIVS.TO","DISC.TO","DGRC.TO","DGR.TO","DCU.TO","DCS.TO","DCG.TO","DCC.TO","DATA.TO","DAMG.TO","CYH.TO","CYBR.TO","CWW.TO","CVLU.TO","CVD.TO","CUEI.TO","CUEH.TO","CUDV.TO","CUD.TO","CUBD.TO","CROP.TO","CPLS.TO","CPD.TO","COW.TO","COPP.TO","COMM.TO","CNV.TO","CNDX.TO","CNCL.TO","CNCC.TO","CNAO.TO","CMOM.TO","CMGG.TO","CMEY.TO","CMDO.TO","CMAR.TO","CMAG.TO","CLML.TO","CINV.TO","CINT.TO","CIF.TO","CIEM.TO","CIEI.TO","CIEH.TO","CIC.TO","CIBR.TO","CIAI.TO","CHPS.TO","CGXF.TO","CGRO.TO","CGRN.TO","CGRE.TO","CGRA.TO","CGR.TO","CGLO.TO","CGIN.TO","CGDV.TO","CGAA.TO","CFRT.TO","CFLX.TO","CEW.TO","CEQT.TO","CEMI.TO","CDZ.TO","CDIV.TO","CDEF.TO","CCRE.TO","CCOM.TO","CCNV.TO","CCNS.TO","CCEI.TO","CBUG.TO","CBNK.TO","CBL.TO","CBIN.TO","CBGR.TO","CBCX.TO","CBAL.TO","CARS.TO","CANL.TO","CALL.TO","BREA.TO","BNKL.TO","BND.TO","BNC.TO","BMAX.TO","BLOV.TO","BLCK.TO","BKCC.TO","BGU.TO","BGC.TO","BFIN.TO","BDIV.TO","BASE.TO","BANK.TO","ATSX.TO","ARTI.TO","ARB.TO","AMZH.TO","AMHE.TO","AMAX.TO","AIGO.TO","ADIV.TO","ACZ.TO","ACAA.TO","XUSC-U.TO","ZLU-U.TO","FCUV-U.TO","BKCL.TO","DRFC.TO","ESGA.TO","HURA.TO","XUSC.TO","ZGQ.TO","ZLB.TO","ZQQ.TO","ZWE.TO","ZZZD.TO","ZWU.TO","ZWS.TO","ZWK.TO","ZVC.TO","ZUP.TO","ZUE.TO","ZUB.TO","ZRE.TO","ZPR.TO","ZPAY.TO","ZMT.TO","ZMI.TO","ZLSC.TO","ZLH.TO","ZLD.TO","ZJK.TO","ZIU.TO","ZHY.TO","ZHP.TO","ZGRO.TO","ZGI.TO","ZFN.TO","ZESG.TO","ZEQ.TO","ZEM.TO","ZEAT.TO","ZDV.TO","ZDJ.TO","ZDH.TO","ZCN.TO","ZCH.TO","ZBAL.TO","XWD.TO","XUU.TO","XUSR.TO","XUS.TO","XTR.TO","XSU.TO","XSPC.TO","XSMH.TO","XSI.TO","XSEA.TO","XSC.TO","XQQU.TO","XQLT.TO","XMY.TO","XMV.TO","XMTM.TO","XMM.TO","XMI.TO","XMD.TO","XMA.TO","XIU.TO","XINC.TO","XID.TO","XHY.TO","XHD.TO","XHAK.TO","XGI.TO","XFN.TO","XFLI.TO","XEXP.TO","XETM.TO","XEQT.TO","XEMC.TO","XEI.TO","XEG.TO","XEC.TO","XDUH.TO","XDSR.TO","XDNA.TO","XDGH.TO","XCV.TO","XCS.TO","XCLN.TO","XCH.TO","XCD.TO","XBAL.TO","XAGH.TO","XAD.TO","WSRI.TO","WOMN.TO","VXC.TO","VVL.TO","VUN.TO","VRIF.TO","VMO.TO","VIDY.TO","VGRO.TO","VGG.TO","VEQT.TO","VEE.TO","VDY.TO","VCNS.TO","VCIP.TO","VBG.TO","VA.TO","USSX.TO","USCL.TO","UMI.TO","UDIV.TO","UDA.TO","TULV.TO","TUED.TO","TTP.TO","TQSM.TO","TQGD.TO","TPU.TO","TPE.TO","TLV.TO","TKN.TO","TILV.TO","THE.TO","TGRE.TO","TGED.TO","TECX.TO","TECH.TO","TDOC.TO","TCLV.TO","TBAL.TO","STPL.TO","SMAX.TO","RUDH.TO","RUD.TO","RPDH.TO","RIT.TO","RIIN.TO","RIFI.TO","RID.TO","RCDC.TO","RBOT.TO","QDX.TO","QCLN.TO","QBTL.TO","PZW.TO","PXS.TO","PRP.TO","PR.TO","PMM.TO","PLV.TO","PINV.TO","PIN.TO","PHW.TO","PHE.TO","PFMN.TO","PFIA.TO","PFAA.TO","PDF.TO","PCOR.TO","PBI.TO","PAYF.TO","PACF.TO","ONEQ.TO","NXTG.TO","NVHE.TO","NUSA.TO","NSGE.TO","NREA.TO","NINT.TO","NGPE.TO","MWLV.TO","MUSA.TO","MULV.TO","MUB.TO","MSFH.TO","MORE.TO","MKB.TO","MIQE.TO","MINF.TO","MGRW.TO","MGDV.TO","MGAB.TO","MDIV.TO","MCSB.TO","MCLV.TO","MBAL.TO","LONG.TO","LLYH.TO","LIFE.TO","KNGX.TO","KNGC.TO","JAPN.TO","IWEB.TO","IUCE.TO","ISTE.TO","IQD.TO","INCM.TO","IITE.TO","IIAE.TO","IGCF.TO","IGAF.TO","IDR.TO","ICGB.TO","ICAE.TO","HYBR.TO","HXT.TO","HXQ.TO","HXE.TO","HXD.TO","HUTS.TO","HUTE.TO","HULC.TO","HTAE.TO","HSU.TO","HSD.TO","HQD.TO","HPF.TO","HOD.TO","HMMJ.TO","HLIT.TO","HIX.TO","HIND.TO","HHLE.TO","HGY.TO","HGRW.TO","HGR.TO","HGD.TO","HFIN.TO","HFD.TO","HEWB.TO","HERO.TO","HEQL.TO","HEJ.TO","HEE.TO","HEB.TO"];
  let slope = [0.022,0.103,0.201,0.101,0.047,-0.015,0.007,0.024,0.045,0.044,0.001,0.142,0.022,-0.073,0.009,0.006,0.001,-0.009,0.001,-0.0,0.045,0.013,0.015,-0.047,-0.088,0.011,-0.106,-0.002,-0.064,-0.061,0.027,-0.021,-0.035,-0.034,-0.062,0.027,0.025,-0.003,-0.012,-0.069,-0.209,-0.006,0.038,-0.003,0.003,0.0,0.008,0.024,0.015,0.014,-0.013,-0.072,-0.073,0.036,0.057,-0.034,-0.002,0.024,-0.019,-0.036,-0.024,-0.004,-0.01,0.025,-0.008,0.023,-0.007,-0.001,-0.009,-0.049,0.0,-0.015,-0.013,0.006,-0.006,-0.045,-0.007,-0.014,0.016,-0.005,-0.157,0.031,-0.003,0.013,-0.05,-0.081,-0.018,-0.008,0.004,0.0,-0.002,-0.048,-0.015,-0.04,0.016,0.02,-0.017,-0.025,-0.008,0.007,-0.085,-0.008,-0.012,-0.02,0.001,0.009,-0.031,-0.093,0.031,0.063,0.041,-0.07,0.104,0.015,-0.004,-0.006,-0.003,0.055,0.022,-0.106,0.092,0.022,0.015,0.024,0.015,-0.001,0.019,0.052,-0.034,0.071,0.022,-0.002,-0.08,-0.013,-0.023,-0.02,-0.018,-0.026,-0.009,-0.039,0.002,0.026,0.02,-0.045,0.019,-0.012,0.005,-0.024,-0.003,-0.044,-0.021,-0.018,-0.004,-0.023,-0.064,-0.001,0.067,0.061,0.012,-0.055,-0.05,0.018,0.005,-0.033,0.017,0.31,-0.044,0.021,0.005,-0.01,0.004,-0.054,-0.024,0.001,0.241,0.02,-0.01,-0.019,-0.004,-0.049,0.073,-0.068,-0.012,0.004,-0.042,0.01,-0.049,-0.013,-0.121,0.05,-0.087,-0.041,-0.013,0.017,-0.051,-0.075,-0.003,0.126,-0.003,-0.053,-0.05,-0.206,-0.114,-0.125,0.102,-0.05,0.037,-0.011,-0.051,-0.0,0.006,0.039,-0.015,0.122,0.12,0.106,-0.033,-0.05,-0.245,0.1,0.002,-0.256,0.001,0.045,-0.246,-0.005,-0.034,-0.007,0.095,-0.082,-0.262,0.0,-0.107,-0.063,-0.26,-0.012,0.12,0.053,0.008,-0.062,-0.282,0.066,0.055,0.104,0.013,0.004,0.02,0.356,0.049,-0.22,-0.037,0.109,0.018,0.002,-0.049,-0.027,0.026,-0.101,0.0,-0.008,-0.022,-0.009,-0.04,0.005,0.028,0.02,-0.023,0.017,-0.025,0.11,-0.012,-0.006,-0.016,-0.004,-0.003,-0.011,-0.014,-0.017,-0.023,0.172,0.049,0.029,-0.01,-0.047,-0.115,-0.032,0.027,-0.054,0.023,0.033,-0.031,0.002,0.03,-0.103,0.062,-0.06,0.041,-0.033,0.01,-0.14,-0.152,-0.021,-0.116,-0.104,-0.071,0.033,-0.002,-0.027,-0.085,-0.005,0.064,0.031,0.002,0.022,-0.025,0.022,0.008,-0.026,0.051,-0.025,-0.01,0.0,-0.019,0.0,0.041,-0.004,0.001,-0.03,0.056,0.052,-0.049,0.003,0.067,0.037,0.021,-0.014,0.013,0.044,0.048,0.024,0.017,0.103,0.102,0.116,-0.07,-0.086,-0.02,-0.081,-0.068,-0.017,-0.03,-0.05,0.039,-0.006,0.04,-0.005,-0.035,-0.008,0.0,0.015,0.008,-0.155,0.015,0.0,-0.032,0.021,-0.075,-0.005,0.017,-0.006,-0.021,-0.02,-0.043,0.035,0.043,-0.032,-0.003,0.002,0.014,-0.074,-0.07,-0.071,-0.058,-0.019,-0.153,-0.007,-0.007,0.024,-0.038,-0.028,0.035,0.121,-0.038,-0.007,0.0,-0.013,-0.048,-0.036,-0.001,-0.007,0.001,0.012,0.119,0.09,-0.001,0.043,0.022,0.05,-0.043,-0.043,-0.072,-0.026,0.076,0.063,-0.055,0.001,-0.042,0.023,0.08,0.033,-0.008,0.101,0.07,-0.008,-0.002,-0.133,-0.03,-0.012,-0.012,-0.016,-0.05,-0.059,0.01,-0.028,-0.044,0.026,0.021,-0.034,0.014,0.031,-0.008,-0.048,-0.126,-0.085,-0.088,-0.009,0.049,0.045,0.041,-0.061,-0.013,0.231,-0.03,-0.095,0.084,0.003,-0.016,0.152,-0.05,0.021,0.063,-0.008,0.005,0.012,-0.002,-0.031,0.02,0.025,0.063,0.13,0.031,0.079,-0.03,0.16,0.187,0.374,0.102,0.028,-0.032,-0.057,0.014,0.009,0.015,0.155,0.009,0.01,0.181,0.014,0.03,0.02,0.059,0.019,-0.049,-0.001,0.013,-0.006,0.014,-0.031,0.023,-0.013,0.006,-0.035,0.024,-0.096,-0.019,0.033,-0.013,-0.037,-0.016,0.054,-0.017,-0.048,-0.025,0.017,-0.006,-0.046,0.001,-0.036,-0.191,0.002,0.01,0.004,-0.006,-0.067,-0.048,0.023,0.029,0.034,0.045,0.007,-0.009,-0.0,-0.039,-0.059,-0.014,-0.068,0.0,0.03,-0.034,-0.001,-0.002,-0.044,-0.023,0.011,-0.065,0.026,-0.072,-0.013,-0.018,-0.014,0.017,-0.006,0.042,0.003,-0.051,0.0,0.013,-0.039,0.01,-0.029,-0.032,-0.023,-0.014,-0.222,-0.011,0.006,-0.043,-0.309,-0.059,-0.012,-0.014,0.0,0.117,0.021,0.026,0.007,-0.007,0.036,-0.027,0.004,0.024,-0.028,0.03,0.005,-0.031,0.022,-0.05,-0.077,-0.087,-0.026,0.032,0.149,-0.022,-0.018,0.03,-0.002,0.066,0.006,0.025,0.044,0.034,-0.02,-0.005,0.012,-0.021,-0.003,-0.045,0.058,0.128,0.081,-0.029,0.017,-0.006,-0.039,0.121,0.014,0.036,-0.015,0.032,0.015,-0.095,-0.016,0.011,-0.069,-0.021,-0.121,-0.11,-0.018,0.016,-0.051,-0.028,-0.104,-0.038,-0.112,-0.016,-0.067,-0.056,-0.035,-0.026,-0.072,0.002,-0.065,-0.027,0.035,0.0,-0.012,-0.149,0.381,0.028,-0.048,-0.021,-0.054,0.032,0.039,0.043,-0.006,-0.051,0.19,0.12,-0.074,0.156,-0.038,0.009,0.019,-0.085,0.057,-0.066,0.0,-0.02,0.003,-0.077,0.055,0.043,0.048,0.077,-0.017,-0.029,-0.042,-0.01,-0.03,0.016,0.014,-0.078,-0.048,-0.012,-0.13,0.009,-0.021,-0.025,0.067,-0.069,-0.269,-0.071,0.037,0.162,0.194,0.032,-0.353,-0.466,-0.012,-0.273,-0.325,-0.365,-0.134,0.02,-0.018,-0.031,-0.001,-0.052,-0.438,0.103,-0.324,-0.0,-0.047,0.0,-0.094,-0.164,0.072];
  let volatility = [0.424,0.711,1.146,0.644,1.02,0.873,1.921,1.133,0.956,0.502,1.151,1.757,0.851,1.124,1.412,2.535,0.999,1.112,0.799,0.742,1.287,0.886,0.682,0.884,1.038,0.652,5.399,1.28,0.991,0.658,0.801,3.06,0.663,2.614,3.707,1.324,1.24,1.093,1.062,1.461,1.025,2.066,1.181,0.828,1.245,0.0,1.039,0.878,1.539,1.211,1.135,1.149,0.659,1.28,1.477,1.017,1.263,1.382,0.745,0.736,1.243,0.977,2.199,1.877,0.927,0.6,0.694,1.385,0.737,1.589,0.0,0.922,0.965,0.854,0.795,1.301,0.836,0.95,0.624,0.527,1.321,0.94,0.513,1.057,0.597,2.22,0.802,2.973,0.84,0.0,1.134,1.159,1.811,0.677,1.121,0.98,1.266,0.95,0.882,0.767,0.226,1.055,0.999,0.893,1.069,0.958,0.624,1.499,1.484,0.838,0.568,0.81,1.772,1.072,1.358,1.368,0.694,0.894,1.288,1.012,1.582,0.591,1.055,0.767,0.972,0.975,1.818,1.53,0.641,1.082,0.293,0.25,2.155,0.802,1.373,1.125,0.52,0.88,1.031,0.936,1.049,1.348,0.831,0.82,1.049,0.396,1.315,1.657,1.722,0.447,0.136,1.004,0.934,1.096,0.612,0.553,0.832,2.126,1.053,0.401,0.453,0.407,0.259,0.572,2.452,2.385,0.362,0.58,1.191,0.269,0.58,1.235,1.114,0.979,1.529,1.444,0.888,0.689,0.905,0.727,0.971,0.527,0.607,0.982,0.726,0.955,0.727,1.03,1.517,1.849,1.284,0.642,0.947,1.62,0.805,0.551,0.836,1.688,1.087,1.138,0.501,0.231,0.798,0.166,1.163,3.837,1.137,1.214,0.898,0.791,0.72,1.407,1.848,1.58,2.421,5.826,1.294,2.14,11.054,0.942,0.885,1.099,0.969,1.132,6.505,0.998,2.224,3.667,0.962,2.476,7.188,1.015,5.512,2.821,11.225,1.577,0.694,0.938,1.087,0.739,0.964,1.406,1.163,1.02,4.317,0.483,0.609,4.94,1.231,3.127,0.827,0.976,1.038,0.845,0.856,0.8,0.705,1.048,0.0,2.702,1.584,1.664,0.637,0.925,1.01,0.633,0.38,0.769,0.68,0.897,0.813,1.66,0.856,0.837,1.099,1.275,1.924,1.053,1.838,1.221,0.298,0.771,0.906,0.197,1.185,0.899,1.481,0.332,0.807,0.865,1.004,1.951,1.471,2.164,1.622,1.157,1.005,1.164,1.127,2.536,3.226,1.589,2.155,0.463,1.005,0.749,0.46,0.275,2.027,1.397,0.98,0.729,1.045,0.849,0.979,0.729,0.856,0.815,0.792,1.063,0.599,1.142,0.692,0.0,0.88,0.834,1.025,1.172,0.641,0.772,0.636,1.303,0.978,0.853,0.811,0.777,0.759,0.769,0.601,0.771,0.831,0.766,0.695,1.089,5.001,1.252,1.084,0.624,1.222,1.86,0.857,0.951,1.289,1.142,0.673,1.3,0.621,1.345,0.523,1.435,1.304,1.087,1.077,0.0,0.878,0.887,1.195,1.23,0.932,0.828,0.899,0.963,1.05,1.131,0.653,1.287,1.189,0.712,0.754,0.607,0.318,0.357,0.393,2.027,0.494,1.113,1.853,1.032,0.847,0.658,0.985,1.825,0.796,1.263,0.0,0.445,0.597,0.947,1.133,2.52,1.253,0.342,0.712,0.614,1.095,1.067,1.152,1.656,0.297,0.286,0.394,1.522,1.614,2.143,0.894,1.211,0.956,0.82,1.171,1.432,1.457,2.033,1.877,1.754,0.592,1.004,0.822,0.572,2.078,0.809,0.267,0.592,1.984,0.273,1.032,1.122,0.776,0.912,0.682,0.644,0.839,0.5,0.718,0.457,0.635,0.897,1.436,1.615,0.423,0.4,0.477,4.855,0.431,4.001,0.795,2.076,1.039,1.264,0.497,1.138,0.889,0.615,1.013,1.404,0.756,0.68,1.352,0.964,1.501,1.269,0.694,2.385,0.332,1.815,2.262,1.592,1.414,0.494,1.43,0.585,0.893,0.724,1.091,0.948,1.132,1.016,2.242,1.017,0.989,1.04,1.387,0.921,0.651,1.05,0.891,1.967,1.208,0.805,1.067,2.512,1.622,1.551,0.398,3.922,0.666,0.464,0.612,0.708,0.551,0.579,1.676,0.942,1.515,1.703,0.815,1.523,0.776,1.265,1.276,1.077,1.073,1.064,1.011,3.785,1.516,1.125,0.854,1.136,0.901,0.908,1.199,0.887,1.406,0.481,0.836,0.442,0.0,0.889,0.58,0.767,1.298,0.877,1.48,0.715,1.378,0.552,0.544,1.696,1.594,0.85,1.155,1.094,0.643,0.406,0.844,0.0,0.817,0.81,1.194,1.958,1.204,0.675,0.974,1.827,0.615,0.747,1.119,1.931,2.63,1.21,0.503,0.0,0.847,0.584,0.655,0.845,1.471,0.902,0.559,1.075,0.912,0.707,0.638,0.815,1.127,1.155,0.567,0.533,0.624,0.919,1.102,1.168,1.227,0.615,0.706,0.5,1.044,0.915,0.682,0.619,0.88,0.913,1.164,3.863,0.751,0.861,0.955,0.963,2.023,2.112,0.501,0.681,0.698,0.526,1.126,0.941,0.8,0.995,2.525,0.609,0.536,0.996,0.769,2.091,0.883,2.75,0.999,1.08,0.865,0.349,1.393,0.981,0.558,1.99,0.679,0.882,0.88,0.302,0.371,0.229,0.824,0.453,1.634,0.406,0.0,1.019,3.179,3.044,0.977,1.059,0.803,0.989,1.482,0.517,1.133,0.825,0.559,1.122,0.767,0.685,0.546,0.696,0.755,0.646,0.705,0.971,0.37,0.0,0.775,1.011,1.14,0.747,0.782,1.414,1.134,0.24,1.017,1.145,0.763,1.099,0.972,0.647,0.771,0.88,2.045,0.178,0.81,1.478,1.057,1.338,4.823,3.946,1.795,1.291,2.101,2.497,4.764,4.896,7.296,2.545,7.703,4.549,2.142,5.753,0.919,1.598,1.607,0.546,1.183,6.371,1.427,3.857,1.285,1.949,0.0,3.558,7.128,1.172];

  let colors = tickers.map(t => t === "HEB.TO" ? "red" : "grey");
  let sizes = tickers.map(t => t === "HEB.TO" ? 12 : 8);
  let texts = tickers.map(t => t === "HEB.TO" ? t : "");
  let hovertexts = tickers;

  Plotly.newPlot("graph3", [{
    x: slope,
    y: volatility,
    mode: "markers+text",
    text: texts,
    hovertext: hovertexts,
    hoverinfo: "text",
    textposition: "top center",
    marker: { color: colors, size: sizes }
  }], {
    margin: {t:30, l:50, r:30, b:40},
    title: "Slope vs Volatilité",
    xaxis: {title: "Slope"},
    yaxis: {title: "Volatilité"}
  });

  // --- Graphique 4 : Histogramme ---
  let secteurs = ["realestate","consumer_cyclical","basic_materials","consumer_defensive","technology","communication_services","financial_services","utilities","industrials","energy","healthcare"];
  let fractions = [0.0,0.0,0.0,0.0,0.0,0.0,100.0,0.0,0.0,0.0,0.0];

  Plotly.newPlot("graph4", [{
    x: secteurs,
    y: fractions,
    type: "bar",
    text: secteurs,
    textposition: "inside",
    insidetextanchor: "middle",
    textangle: -90,
    marker: { color:["#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b","#003314","#00220d","#001107"] }
  }], {
    margin:{t:30,l:50,r:30,b:40},
    title:"Répartition par secteur",
    yaxis:{title:"Fraction du portefeuille (%)"},
    dragmode: false,
    staticPlot: true
  });
</script>
</body>
</html>