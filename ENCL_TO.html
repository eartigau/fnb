<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Info sur Global X Enhanced Canadian Oil and Gas Equity Covered Call ETF CAD</title>
<!-- Styles -->
<link rel="stylesheet" href="disnat-style.css">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<style>
  body { margin: 0; }

  /* Ajustement des filtres */
  .filters input[type="number"] {
    width: 5ch;
    padding: 2px;
    box-sizing: content-box;
  }

  /* --- Grille 2x2 pour graphiques --- */
  .plots {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* exactement 2 colonnes */
    gap: 16px;
    margin: 16px 0;
  }
  /* Responsive sur écran petit */
  @media (max-width: 700px) {
    .plots {
      grid-template-columns: 1fr; /* 1 colonne sur mobile */
    }
  }

  .plot-box {
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 6px;
    padding: 8px;
    box-sizing: border-box;
    background: white;
    height: 0;
    padding-bottom: 66.66%; /* ratio 3:2 */
    position: relative;
  }
  .plot-box > div {
    position: absolute;
    top: 0; left: 0;
    width: 100% !important;
    height: 100% !important;
  }

  /* Info portefeuille à côté si écran large */
  .grid {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
  }
  .ticker-info {
    flex: 1 1 300px;
    min-width: 300px;
    max-width: 400px;
  }
  .plots {
    flex: 2 1 600px;
    min-width: 300px;
  }
</style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="brand">
        <div class="logo">FNB</div>
        <h1>Global X Enhanced Canadian Oil and Gas Equity Covered Call ETF CAD</h1>
      </div>
      <nav class="nav">
        <a href="table_fnb.html">Accueil</a>
        <a href="documentation.html">Documentation</a>
      </nav>
    </header>
  </div>

  <h2>Évolution du portefeuille et analyse</h2>

  <div class="grid">
    <div class="plots">
      <div class="plot-box"><div id="graph1"></div></div>
      <div class="plot-box"><div id="graph2"></div></div>
      <div class="plot-box"><div id="graph3"></div></div>
      <div class="plot-box"><div id="graph4"></div></div>
    </div>

    <div class="ticker-info card">
      <h3>Infos Portefeuille</h3>
      <p><span class="kicker">Ticker</span> <strong>ENCL.TO</strong></p>
      <p><span class="kicker">Nom</span> Global X Enhanced Canadian Oil and Gas Equity Covered Call ETF CAD</p>
      <p><span class="kicker">Âge du FNB</span> 1.95 ans</p>
      <p><span class="kicker">Creux COVID-19</span> nan%</p>
      <p><span class="kicker">Creux Tarif</span> -14.0%</p>
      <p><span class="kicker">Croissance annuelle [S&P500]</span> 28.8 [17.2] %</p>
      <p><span class="kicker">Volatilité annuelle [S&P500]</span> 5.1 [4.7] %</p>
    </div>
  </div>

<script>
  // --- Données séries temporelles ---
  const dates1 = ["2023-10-11","2023-10-12","2023-10-13","2023-10-16","2023-10-17","2023-10-18","2023-10-19","2023-10-20","2023-10-23","2023-10-24","2023-10-25","2023-10-26","2023-10-27","2023-10-30","2023-10-31","2023-11-01","2023-11-02","2023-11-03","2023-11-06","2023-11-07","2023-11-08","2023-11-09","2023-11-10","2023-11-13","2023-11-14","2023-11-15","2023-11-16","2023-11-17","2023-11-20","2023-11-21","2023-11-22","2023-11-23","2023-11-24","2023-11-27","2023-11-28","2023-11-29","2023-11-30","2023-12-01","2023-12-04","2023-12-05","2023-12-06","2023-12-07","2023-12-08","2023-12-11","2023-12-12","2023-12-13","2023-12-14","2023-12-15","2023-12-18","2023-12-19","2023-12-20","2023-12-21","2023-12-22","2023-12-27","2023-12-28","2023-12-29","2024-01-02","2024-01-03","2024-01-04","2024-01-05","2024-01-08","2024-01-09","2024-01-10","2024-01-11","2024-01-12","2024-01-15","2024-01-16","2024-01-17","2024-01-18","2024-01-19","2024-01-22","2024-01-23","2024-01-24","2024-01-25","2024-01-26","2024-01-29","2024-01-30","2024-01-31","2024-02-01","2024-02-02","2024-02-05","2024-02-06","2024-02-07","2024-02-08","2024-02-09","2024-02-12","2024-02-13","2024-02-14","2024-02-15","2024-02-16","2024-02-20","2024-02-21","2024-02-22","2024-02-23","2024-02-26","2024-02-27","2024-02-28","2024-02-29","2024-03-01","2024-03-04","2024-03-05","2024-03-06","2024-03-07","2024-03-08","2024-03-11","2024-03-12","2024-03-13","2024-03-14","2024-03-15","2024-03-18","2024-03-19","2024-03-20","2024-03-21","2024-03-22","2024-03-25","2024-03-26","2024-03-27","2024-03-28","2024-04-01","2024-04-02","2024-04-03","2024-04-04","2024-04-05","2024-04-08","2024-04-09","2024-04-10","2024-04-11","2024-04-12","2024-04-15","2024-04-16","2024-04-17","2024-04-18","2024-04-19","2024-04-22","2024-04-23","2024-04-24","2024-04-25","2024-04-26","2024-04-29","2024-04-30","2024-05-01","2024-05-02","2024-05-03","2024-05-06","2024-05-07","2024-05-08","2024-05-09","2024-05-10","2024-05-13","2024-05-14","2024-05-15","2024-05-16","2024-05-17","2024-05-21","2024-05-22","2024-05-23","2024-05-24","2024-05-27","2024-05-28","2024-05-29","2024-05-30","2024-05-31","2024-06-03","2024-06-04","2024-06-05","2024-06-06","2024-06-07","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-08","2024-07-09","2024-07-10","2024-07-11","2024-07-12","2024-07-15","2024-07-16","2024-07-17","2024-07-18","2024-07-19","2024-07-22","2024-07-23","2024-07-24","2024-07-25","2024-07-26","2024-07-29","2024-07-30","2024-07-31","2024-08-01","2024-08-02","2024-08-06","2024-08-07","2024-08-08","2024-08-09","2024-08-12","2024-08-13","2024-08-14","2024-08-15","2024-08-16","2024-08-19","2024-08-20","2024-08-21","2024-08-22","2024-08-23","2024-08-26","2024-08-27","2024-08-28","2024-08-29","2024-08-30","2024-09-03","2024-09-04","2024-09-05","2024-09-06","2024-09-09","2024-09-10","2024-09-11","2024-09-12","2024-09-13","2024-09-16","2024-09-17","2024-09-18","2024-09-19","2024-09-20","2024-09-23","2024-09-24","2024-09-25","2024-09-26","2024-09-27","2024-09-30","2024-10-01","2024-10-02","2024-10-03","2024-10-04","2024-10-07","2024-10-08","2024-10-09","2024-10-10","2024-10-11","2024-10-15","2024-10-16","2024-10-17","2024-10-18","2024-10-21","2024-10-22","2024-10-23","2024-10-24","2024-10-25","2024-10-28","2024-10-29","2024-10-30","2024-10-31","2024-11-01","2024-11-04","2024-11-05","2024-11-06","2024-11-07","2024-11-08","2024-11-11","2024-11-12","2024-11-13","2024-11-14","2024-11-15","2024-11-18","2024-11-19","2024-11-20","2024-11-21","2024-11-22","2024-11-25","2024-11-26","2024-11-27","2024-11-28","2024-11-29","2024-12-02","2024-12-03","2024-12-04","2024-12-05","2024-12-06","2024-12-09","2024-12-10","2024-12-11","2024-12-12","2024-12-13","2024-12-16","2024-12-17","2024-12-18","2024-12-19","2024-12-20","2024-12-23","2024-12-24","2024-12-27","2024-12-30","2024-12-31","2025-01-02","2025-01-03","2025-01-06","2025-01-07","2025-01-08","2025-01-09","2025-01-10","2025-01-13","2025-01-14","2025-01-15","2025-01-16","2025-01-17","2025-01-20","2025-01-21","2025-01-22","2025-01-23","2025-01-24","2025-01-27","2025-01-28","2025-01-29","2025-01-30","2025-01-31","2025-02-03","2025-02-04","2025-02-05","2025-02-06","2025-02-07","2025-02-10","2025-02-11","2025-02-12","2025-02-13","2025-02-14","2025-02-18","2025-02-19","2025-02-20","2025-02-21","2025-02-24","2025-02-25","2025-02-26","2025-02-27","2025-02-28","2025-03-03","2025-03-04","2025-03-05","2025-03-06","2025-03-07","2025-03-10","2025-03-11","2025-03-12","2025-03-13","2025-03-14","2025-03-17","2025-03-18","2025-03-19","2025-03-20","2025-03-21","2025-03-24","2025-03-25","2025-03-26","2025-03-27","2025-03-28","2025-03-31","2025-04-01","2025-04-02","2025-04-03","2025-04-04","2025-04-07","2025-04-08","2025-04-09","2025-04-10","2025-04-11","2025-04-14","2025-04-15","2025-04-16","2025-04-17","2025-04-21","2025-04-22","2025-04-23","2025-04-24","2025-04-25","2025-04-28","2025-04-29","2025-04-30","2025-05-01","2025-05-02","2025-05-05","2025-05-06","2025-05-07","2025-05-08","2025-05-09","2025-05-12","2025-05-13","2025-05-14","2025-05-15","2025-05-16","2025-05-20","2025-05-21","2025-05-22","2025-05-23","2025-05-26","2025-05-27","2025-05-28","2025-05-29","2025-05-30","2025-06-02","2025-06-03","2025-06-04","2025-06-05","2025-06-06","2025-06-09","2025-06-10","2025-06-11","2025-06-12","2025-06-13","2025-06-16","2025-06-17","2025-06-18","2025-06-19","2025-06-20","2025-06-23","2025-06-24","2025-06-25","2025-06-26","2025-06-27","2025-06-30","2025-07-02","2025-07-03","2025-07-04","2025-07-07","2025-07-08","2025-07-09","2025-07-10","2025-07-11","2025-07-14","2025-07-15","2025-07-16","2025-07-17","2025-07-18","2025-07-21","2025-07-22","2025-07-23","2025-07-24","2025-07-25","2025-07-28","2025-07-29","2025-07-30","2025-07-31","2025-08-01","2025-08-05","2025-08-06","2025-08-07","2025-08-08","2025-08-11","2025-08-12","2025-08-13","2025-08-14","2025-08-15","2025-08-18","2025-08-19","2025-08-20","2025-08-21","2025-08-22","2025-08-25","2025-08-26","2025-08-27","2025-08-28","2025-08-29","2025-09-02","2025-09-03","2025-09-04","2025-09-05","2025-09-08","2025-09-09","2025-09-10","2025-09-11","2025-09-12","2025-09-15","2025-09-16","2025-09-17","2025-09-18","2025-09-19","2025-09-22","2025-09-23","2025-09-24"];;
  const close1 =  [10000,9975,10139,10268,10283,10283,10193,10104,10000,9930,10039,10064,9985,9944,9969,10121,10302,10322,10171,9969,9768,9823,9990,10005,9990,9929,9763,10005,10045,9990,9929,9969,9985,9879,9934,9970,10016,10072,9980,9903,9637,9566,9673,9571,9356,9596,9653,9443,9555,9642,9540,9596,9627,9724,9636,9657,9709,9948,9891,9948,9844,9833,9797,9859,9922,9984,9771,9600,9574,9568,9542,9620,9688,9839,9880,9849,9907,9802,9754,9590,9458,9480,9464,9553,9575,9728,9585,9559,9870,9960,9955,10182,10213,10234,10261,10287,10282,10416,10528,10469,10566,10566,10571,10576,10550,10630,10727,10791,10812,10844,10866,10850,10882,10898,11059,11027,11054,11152,11249,11331,11418,11450,11537,11548,11548,11657,11440,11315,11184,11211,11200,11162,11260,11374,11429,11407,11554,11570,11603,11317,11102,11173,11190,11372,11443,11537,11598,11543,11487,11399,11449,11465,11526,11625,11438,11361,11416,11421,11565,11394,11405,11561,11164,11042,11097,11215,11159,11276,11159,11131,10857,10818,10812,10924,10852,10891,10812,11109,11109,11103,11209,11175,11308,11334,11385,11158,11141,11033,11116,11215,11243,11396,11323,11300,11351,11272,11396,11334,11260,11294,11374,11255,11323,11605,11369,11000,10995,11087,11265,11357,11645,11697,11806,11944,11875,11806,11610,11570,11599,11754,11898,11691,11656,11737,11661,11366,11264,11142,11036,11031,10826,10809,10891,10996,11124,11165,11066,11200,11177,11282,11369,11346,11042,11220,11303,11594,11688,11949,12121,12254,12109,12127,12329,12323,11967,11991,12062,12026,12044,12056,11890,11949,12056,11914,11825,11854,11734,11614,11752,11740,11945,12095,11975,12029,11921,12002,12245,12185,12263,12263,12378,12642,12690,12444,12173,12173,12227,12270,12160,12227,12008,12093,11834,11785,11748,11922,11709,11690,11507,11391,11117,11092,11123,11312,11404,11404,11483,11619,11805,11836,11876,12022,12084,12096,12127,11929,11941,12016,11821,11941,12158,12084,12059,12059,11991,11805,11725,11867,11923,11637,11562,11675,11737,11631,11737,11951,12111,11920,11957,11788,11838,11961,11967,11731,11643,11562,11555,11577,11718,11246,11086,11032,11035,11294,11396,11469,11647,11584,11724,11890,11915,12148,12247,12266,12432,12381,12419,12352,12282,12443,12482,12605,11887,10892,10569,10019,10724,10077,10417,10536,10640,10834,11076,10924,11144,11105,11215,11202,11312,11273,11027,11126,11237,11060,11080,11257,11441,11513,11624,11710,11726,11742,11847,11821,11769,11719,11808,11828,11844,11775,11788,11652,11792,11965,11838,11858,11931,11898,11971,12118,12217,12377,12324,12404,12324,12364,12417,12204,12064,12015,12064,12084,12074,12095,12027,12007,11899,12095,12030,12061,12162,12236,12196,12074,12101,12149,12027,12074,12135,12196,12155,12290,12425,12429,12326,12234,12295,12295,12275,12234,12227,12240,12323,12377,12364,12343,12336,12494,12576,12709,12733,12665,12740,12781,12795,12844,12746,12774,12698,12649,12781,12896,12906,12941,12989,13177,13163,13177,13059,13149,13288,13420];;
  const div1 =  [10000,9975,10139,10268,10283,10283,10193,10104,10000,9930,10039,10064,9985,10146,10171,10326,10511,10531,10377,10171,9966,10022,10192,10207,10192,10130,9960,10207,10248,10192,10130,10171,10187,10079,10135,10373,10421,10480,10384,10304,10027,9952,10064,9958,9734,9984,10043,9825,9942,10032,9926,9984,10016,10118,10227,10249,10304,10558,10497,10558,10448,10437,10398,10464,10530,10597,10370,10188,10161,10155,10128,10210,10282,10442,10486,10453,10716,10602,10551,10374,10231,10254,10237,10334,10356,10522,10368,10339,10676,10773,10768,11013,11047,11070,11099,11127,11323,11470,11594,11529,11635,11635,11641,11647,11618,11706,11812,11883,11907,11942,11966,11948,11984,12001,12178,12143,12374,12484,12593,12684,12782,12818,12916,12928,12928,13050,12806,12666,12520,12551,12538,12496,12605,12733,12794,12770,12934,12952,13191,12865,12621,12702,12721,12927,13009,13115,13184,13122,13059,12959,13015,13034,13103,13216,13003,12915,12978,12984,13147,12953,12965,13344,12886,12744,12809,12944,12880,13015,12880,12848,12532,12486,12480,12609,12525,12570,12480,12822,12822,12815,12938,13100,13256,13286,13346,13080,13060,12934,13030,13147,13180,13359,13273,13246,13306,13213,13359,13286,13200,13240,13333,13193,13273,13805,13524,13086,13079,13189,13401,13510,13853,13914,14044,14208,14126,14044,13811,13764,13798,13983,14154,13907,13866,13962,14073,13717,13594,13446,13319,13312,13066,13045,13143,13270,13425,13474,13355,13517,13488,13615,13721,13693,13326,13742,13844,14200,14316,14635,14846,15009,14831,14853,15100,15093,14657,14686,14773,14730,14752,14766,14563,14635,14766,14592,14483,14519,14573,14424,14596,14581,14835,15021,14872,14939,14805,14906,15208,15133,15231,15231,15373,15701,15761,15455,15119,15119,15186,15440,15302,15386,15110,15217,14891,14830,14784,15002,14734,14711,14480,14334,13989,13958,13997,14235,14350,14350,14450,14823,15060,15099,15151,15336,15415,15431,15471,15218,15234,15329,15080,15234,15510,15415,15384,15384,15297,15060,14957,15139,15210,15029,14932,15078,15159,15021,15159,15435,15642,15394,15443,15224,15289,15447,15455,15151,15037,14932,14924,14952,15317,14701,14492,14421,14426,14763,14896,14992,15226,15142,15326,15542,15576,15880,16009,16034,16251,16184,16234,16146,16055,16450,16501,16664,15715,14399,13972,13245,14177,13322,13771,13929,14066,14322,14643,14442,14732,14681,14826,14809,14955,14903,14755,14887,15036,14799,14825,15062,15308,15405,15554,15668,15690,15712,15852,15817,15747,15681,15800,15826,15848,15756,15773,15768,15957,16191,16020,16047,16146,16101,16200,16398,16533,16749,16677,16785,16677,16731,16803,16515,16326,16259,16326,16353,16516,16544,16452,16424,16276,16544,16456,16498,16637,16738,16683,16516,16553,16618,16452,16516,16600,16683,16627,16812,16997,17001,17041,16913,16999,16999,16970,16913,16904,16923,17037,17112,17093,17065,17055,17273,17387,17571,17604,17510,17614,17671,17870,17938,17802,17841,17735,17667,17851,18011,18026,18074,18142,18404,18384,18404,18239,18365,18559,18743];;
  const log_close =  [-0.30912962660842913,-0.31161811053108,-0.2953093820552124,-0.28264467217157785,-0.28119386759249965,-0.28119386759249965,-0.2899317355922859,-0.29874669297574963,-0.30912962660842913,-0.31611240653373507,-0.30516162677309655,-0.30268959867485856,-0.3106220930917778,-0.29462686980278097,-0.29209439353972844,-0.27703419729000966,-0.2592557939183404,-0.2572995935122657,-0.27206376857759285,-0.29209439353972844,-0.3125347309028732,-0.306871826840474,-0.29007321892345894,-0.2885601301411591,-0.29007321892345894,-0.2961491730138559,-0.3130511649162111,-0.2885601301411591,-0.28453594449390973,-0.29007321892345894,-0.2961491730138559,-0.29209439353972844,-0.29057804683576327,-0.30124087778806974,-0.2956415255084406,-0.27244199430345484,-0.2678325809109485,-0.2622273725489688,-0.2714157909176862,-0.27913794192078445,-0.3063789602525451,-0.3138416678170368,-0.30266842182162446,-0.31330678122860833,-0.3360225557498464,-0.3106365624498437,-0.3047868669338434,-0.326765744692056,-0.31491236935965405,-0.30584811811698476,-0.3165205395502255,-0.3106365624498437,-0.3074416969718792,-0.29739131572810207,-0.2866361842655838,-0.2844810234430377,-0.2791132184693126,-0.2547864061952736,-0.2605499439454584,-0.2547864061952736,-0.2652905767621654,-0.26634722937025446,-0.2700538578473539,-0.26370809128372086,-0.2574020060305737,-0.25113590261005214,-0.2727101576660482,-0.2904190662583619,-0.293129952605375,-0.29367291598743384,-0.29639244139315224,-0.2882556772846381,-0.2812571711327614,-0.2658189653843004,-0.26160139554470474,-0.2647630049719929,-0.23991882009199905,-0.2506311687570508,-0.25548965423712655,-0.2724066073250011,-0.28626107321008165,-0.2840315701970493,-0.2857031963020802,-0.2762665988710751,-0.2740591739842513,-0.2581988659748422,-0.2729570443687055,-0.27571419908254713,-0.24365512631653763,-0.23460527387570762,-0.23513522010488597,-0.21259179641379955,-0.2094860265166818,-0.20742098850622304,-0.20484580242255745,-0.2022769090904064,-0.18485650434375067,-0.17191342541149357,-0.16116885779078993,-0.16678223299942863,-0.1576126705178429,-0.1576126705178429,-0.15710566561068573,-0.15659910542645372,-0.15913516663147087,-0.15154600980904886,-0.1425143502231001,-0.1365385108704249,-0.1345543105684084,-0.1315852199794385,-0.12961063122679262,-0.1310914817438733,-0.1281328830286701,-0.12665676856999575,-0.11201507835032842,-0.1149263042671409,-0.09606088216022624,-0.08725043952499512,-0.0785167667840927,-0.071296271533412,-0.06365170019336075,-0.060799913202427724,-0.053235090762173254,-0.0522934847175347,-0.0522934847175347,-0.042925528639327304,-0.06174991419657205,-0.07273613554243274,-0.08433053451652395,-0.081904091244692,-0.08287377299306309,-0.08627603206205547,-0.07755106352582208,-0.06746685557308663,-0.06270023923267631,-0.06460418337863594,-0.05182301396986633,-0.050412699429801755,-0.032178587544906545,-0.05717963261338044,-0.0763495857119092,-0.06991888041311123,-0.06844058936446684,-0.05232293799878107,-0.04604442136219067,-0.037892795286684766,-0.032653678605350844,-0.03741532395472413,-0.04220009690858184,-0.04990369786204596,-0.045563042896009875,-0.04412064276992256,-0.03884842243197406,-0.0302810467374659,-0.04652591589345123,-0.05329257824830913,-0.04845479571880018,-0.04797213989173432,-0.03550805866475537,-0.05038693843456343,-0.049420574590833155,-0.020592488846225443,-0.055511029560016745,-0.06658301898511354,-0.06153481790695725,-0.051016719752102535,-0.05601167281399677,-0.045550794555209606,-0.05601167281399677,-0.05851853669132234,-0.08342424583631969,-0.08703342999163999,-0.08755041640402483,-0.07726731359625516,-0.08393936923287537,-0.08034119323196798,-0.08755041640402483,-0.06052853854993945,-0.06052853854993945,-0.061031641100735445,-0.05151488118300307,-0.03906600187466891,-0.027213778839489944,-0.02496021939619686,-0.020467813876260177,-0.04058931920097031,-0.042114960563643056,-0.05183112601743156,-0.044407795720669,-0.035520829193607995,-0.03299618534769033,-0.019472468735318937,-0.025961161449971293,-0.02796617342070329,-0.023460507359568616,-0.03047813423951684,-0.019472468735318937,-0.02496021939619686,-0.03148438226492534,-0.028467967247423953,-0.021464383566926593,-0.03198818037569895,-0.025961161449971293,0.01332441294355835,-0.007212272342692838,-0.04013720348770411,-0.040660190563084786,-0.03232247498280039,-0.01636353124529366,-0.008225082654842453,0.01678879872968997,0.02122573700031083,0.03052811603539496,0.042156113833516695,0.036359016130837585,0.03052811603539496,0.013819865101121653,0.010345046133651614,0.01282837269500492,0.0261325762080582,0.03829508137312443,0.020733375110724594,0.017776601307477602,0.024662904213804016,0.03258704220677888,0.006986735729027416,-0.0020396070961177237,-0.012980115642252876,-0.0224539233469776,-0.022982883570851875,-0.04167506414816868,-0.04329356163960707,-0.03576254015859748,-0.026162654622098103,-0.014552675381409585,-0.010886971543072832,-0.019812952092419067,-0.007755447385985992,-0.009841803217274236,-0.0004865871263151078,0.007243704074760604,0.0051880900990872725,-0.02192512285559811,0.00880855094237365,0.01617717310846256,0.04154712977562314,0.04969406548151989,0.07176116468018456,0.0860435749744437,0.09698587606433406,0.08506512591290072,0.08653244072827837,0.10301357861301375,0.1025325983537444,0.07324800577060753,0.07522728561313974,0.08114161806354403,0.07818882424801066,0.07966603616686907,0.08065010915537218,0.06678840667257147,0.07176116468018456,0.08065010915537218,0.0687803893366592,0.061289793656366776,0.06379274945932911,0.06750573637823898,0.057201498711962895,0.0690422380603426,0.068018053174284,0.0852862408716466,0.09779564563072096,0.08780038445375604,0.09231056978878494,0.08326987623534254,0.09005824050584188,0.11015060470605054,0.10522698849086565,0.1116228991775543,0.1116228991775543,0.12089831977110244,0.1420527727106662,0.145851681056556,0.12622890185429636,0.10423921897496635,0.10423921897496635,0.1086761393870157,0.12528854006886103,0.11629742334455395,0.12180160027643794,0.10367411993307396,0.11076278269393791,0.08908668400020092,0.08495333282159967,0.08184189984457158,0.09653507121257832,0.0784606723982848,0.07689614566417458,0.061114529487869884,0.050989239790979024,0.02659122242985168,0.024393394580821237,0.027139955225760293,0.04400196796153333,0.05205985774198174,0.05205985774198174,0.05899124703118597,0.08447015804324476,0.10034358706459257,0.1029648149653295,0.10636209348804249,0.11854951311113116,0.12369101146082384,0.12471605894902549,0.12727425394615022,0.11078752408302162,0.1118258770528695,0.11803389533508879,0.10165500385767245,0.1118258770528695,0.12982592127712334,0.12369101146082384,0.12163753930849364,0.12163753930849364,0.11596898235628927,0.10034358706459257,0.09349588305416923,0.10557907840511316,0.1102678874705254,0.09831361487769552,0.09181304977985949,0.10154823271377333,0.10691585671554726,0.09777364503186226,0.10691585671554726,0.12495351863751258,0.1382712989693644,0.12232122695192471,0.1254793458540795,0.11118944254339791,0.1154446188103293,0.12574198974502204,0.12626696001789517,0.10638040026111995,0.09885352077245191,0.09181304977985949,0.09126932824353551,0.09317083287539107,0.11729637674644078,0.07620234768269096,0.06192877436656019,0.05702886186542111,0.05731778934732379,0.08044526124887241,0.0894365446703711,0.09584953612273717,0.11129391517350617,0.10580543983072932,0.11784036510958007,0.1318796218066094,0.1340221368707697,0.15336304990409033,0.1614643443134276,0.16302489583185498,0.1764480572281233,0.17233687165322342,0.17542165769896867,0.17001707481146955,0.16432342581447568,0.18864262321807068,0.19175462139495858,0.20154613583522263,0.14293849757690857,0.05548217681060841,0.02535947219403356,-0.028028399001103654,0.03993168936196767,-0.022238743968167718,0.010882107533890295,0.02229659407504858,0.032064813754019816,0.05012674081136348,0.07225486369550094,0.0584451669395194,0.07836386944711116,0.07487738423763979,0.08472409279795379,0.08357070409941114,0.09333253918897855,0.08989800116236024,0.07990585691814811,0.0887895504818128,0.0987631264272344,0.08287586563247418,0.08465358624857577,0.10051302804962647,0.11669837135659078,0.1229857950238129,0.13262580242682187,0.13993548768683262,0.14133506962286946,0.14273269546670253,0.1516315405994808,0.14941424230980394,0.1449648417650118,0.14077535889567105,0.148303746781127,0.1499690279661272,0.1513545352291943,0.14552210069549076,0.14663568780826042,0.14628725547391586,0.15820900894628132,0.1727751013070331,0.16215166240631262,0.16383648051847866,0.16999041802642045,0.16719784733220067,0.1733310865130071,0.18548596490909208,0.1936893944027327,0.20667666405017293,0.202366252239766,0.20882476241519177,0.202366252239766,0.20560077491292894,0.20989719034102716,0.19259965061130124,0.1810831440349676,0.17693764037808224,0.1810831440349676,0.18273650174910339,0.19267493061747487,0.19435048195327997,0.18875446830969356,0.1870696166413981,0.1780349994610475,0.19435048195327997,0.18903507452002133,0.1915564444435689,0.19991535441383812,0.20600105985979678,0.20268616634735315,0.19267493061747487,0.19490837576269993,0.19880483278926464,0.18875446830969356,0.19267493061747487,0.19769307653520096,0.20268616634735315,0.1993602477588281,0.2104039294862572,0.2213269793152306,0.22159870049474462,0.2239508782625661,0.2164248402776492,0.22144848713358778,0.22144848713358778,0.21977677668857876,0.2164248402776492,0.21586507219107753,0.21698418701767608,0.22367323935617955,0.2281078430808785,0.22700100767118236,0.22533856140904218,0.224783762145218,0.23746659534587344,0.244020371502907,0.25457962138660273,0.256463058712709,0.2510721757879666,0.2570005624502283,0.2602194282503474,0.27145754634455255,0.2752484901884573,0.267652176540071,0.26982840198706803,0.2638322705631211,0.25999761224962814,0.2703717450608494,0.2792943897814566,0.2801015680455943,0.28278753461744044,0.2865358494576613,0.30086352716774734,0.29980920664374544,0.30086352716774734,0.29186637302489915,0.29875387405944975,0.30925811224018984,0.3191360473774991];;
  const log_sp500 =  [-0.22915994887904212,-0.235425973819698,-0.2404574694799173,-0.22991882717732715,-0.23001707705677177,-0.24350748530792288,-0.25202651763598105,-0.2646916668321371,-0.2663786588975725,-0.25913913537794286,-0.27358257003518105,-0.28548565124076575,-0.2902974898193875,-0.2783590155191007,-0.2719049306974135,-0.26145373570722086,-0.24277079677313473,-0.23342091322858316,-0.23166945550448226,-0.22883336210277072,-0.22782895107035017,-0.235945641769419,-0.22044988249864694,-0.2212860709400175,-0.20239070046543972,-0.20079496225759286,-0.19960524286087988,-0.1983240149237009,-0.1909609111299062,-0.19298388706166314,-0.18893098196734925,-0.18833428635770488,-0.18833428635770488,-0.19029035567460362,-0.18931071714655268,-0.19025741376165506,-0.18648048249666083,-0.18062392354281442,-0.18604711160664067,-0.18661614320057573,-0.1905299951455195,-0.18259338446069684,-0.17850625031419298,-0.17458943676641248,-0.17000062397072035,-0.1564422787956996,-0.15379871361054498,-0.15387496601099393,-0.14935684374759362,-0.14350757629677346,-0.1583007242620802,-0.14805195495480739,-0.1463932728020474,-0.14074107613864584,-0.140370970028318,-0.1432014470650529,-0.14887810786477473,-0.15692672619197268,-0.16036099785529068,-0.15853697621585638,-0.14452103077950262,-0.14600002463182093,-0.140350043981325,-0.14102132481828633,-0.14027063106525262,-0.14400895011760895,-0.14400895011760895,-0.14964168138871692,-0.14087496066247418,-0.1286366524299254,-0.12644473124269417,-0.12352761590192962,-0.12271601692571288,-0.11746943879073335,-0.11812143654615959,-0.11059307104091332,-0.11119390143789332,-0.12743075317862562,-0.11501446706457585,-0.10438669634194397,-0.10757812105122788,-0.10527037511947945,-0.09706269252547095,-0.09649227198537957,-0.09076635485658535,-0.09171575899923745,-0.10548436841908249,-0.09595020011486532,-0.09014582744082489,-0.09496087101678619,-0.10098429748260429,-0.09972089598750067,-0.07881800732109667,-0.07847012029459499,-0.08226405953926275,-0.08055916400054208,-0.08221869532165371,-0.0770032248658552,-0.06902728843246742,-0.07022126300742926,-0.08046666928334822,-0.07533873643034639,-0.06508733414536216,-0.07163725713741265,-0.0727601254054413,-0.06162061281877307,-0.06354699682089482,-0.06642221787238967,-0.07292624073212828,-0.06662805649364678,-0.06099480344930441,-0.05213003793294391,-0.04889872883841484,-0.050301900672740985,-0.0533615410547732,-0.056165263037579294,-0.04757166745487318,-0.04645580475411215,-0.04847141928106957,-0.055736807484741746,-0.054646279961403366,-0.06705731558066574,-0.05601926544496649,-0.0563939666350084,-0.05494951716137386,-0.06445149899358604,-0.05703427701024388,-0.07169186481249135,-0.08378606059995164,-0.08584468512745502,-0.09164206020346022,-0.09385266190394503,-0.10264979155800091,-0.09395644040116302,-0.08206287383343991,-0.08184988645550817,-0.08643682072562697,-0.07627943939330173,-0.07310603131666227,-0.08896158243559071,-0.09240293592122129,-0.0833159111961379,-0.07083735353662846,-0.06056417984538065,-0.05922165161655535,-0.05922748725174998,-0.054149454612641534,-0.052501414532475366,-0.052742747706341575,-0.0479165991788868,-0.036268771391586796,-0.03835260886567582,-0.0371885131777816,-0.03377379310239803,-0.036483584311749695,-0.04389174659522155,-0.03691509751854838,-0.03666632661166247,-0.03666632661166247,-0.0440606438274056,-0.050053601363158506,-0.04205777713123027,-0.0409423169076959,-0.03944063590391167,-0.027662620053956033,-0.027862456655592283,-0.028978298705871097,-0.026400768727629753,-0.023694053872420184,-0.015226333630533162,-0.012884422193415901,-0.013278360474414441,-0.005643196102093739,-0.003125041920576166,-0.005654169315988611,-0.005654169315988611,-0.007217521034812435,-0.010287400190680529,-0.006361526511497573,-0.004790330286777333,-0.003883420429978912,-0.007975433892347894,0.0008727628602667181,0.005944325129799921,0.01137829949076874,0.01137829949076874,0.012394481967174187,0.013135279445238623,0.02329159432334471,0.014489944354078688,0.019991808379042908,0.022814024802396915,0.02918307477384907,0.015157633250204583,0.007310521104853862,0.0001446418784478709,0.010878859124668239,0.009319541430722111,-0.014101700792171101,-0.019257589811887854,-0.008228169402316965,-0.007415189830489055,-0.01238770419185542,0.0032822765100615214,-0.010505847281928382,-0.029058753890481626,-0.04918494578927479,-0.05694966117804512,-0.03416852158714612,-0.029507723152764953,-0.0294646901010438,-0.012757456681994128,-0.008941020120795784,0.007063469810509204,0.009051272178904668,0.01872659961508205,0.016740072377473325,0.020970787098478993,0.011997844841822314,0.02341578224348595,0.020257072073880167,0.021850997186604104,0.015857096391869163,0.01581771654843145,0.02586017362757609,0.004482210255178032,0.0028783812277968224,-0.0001441997868774081,-0.017555144294300717,-0.006041609858483454,-0.0015789098806884283,0.00902964576915366,0.016496997925957047,0.021890140160312654,0.023145981027623108,0.02341049612151913,0.020509837413206,0.03734419430593228,0.035401280675916524,0.03820661510162893,0.040714646204975224,0.03885166299876275,0.04288220515696217,0.04162820225688968,0.04585580591533045,0.036487957220876055,0.03662633854786357,0.03494350989340411,0.04387376559258982,0.0342415017632014,0.043884208567895655,0.05097243958489095,0.04890017107890898,0.05493377978620728,0.05497332832328716,0.05964156110606744,0.05947038597753007,0.06343407292030356,0.06160964016388526,0.06113467349668866,0.05190084922900873,0.05404432235956591,0.05374483034638011,0.056392764973113074,0.058005590918014605,0.05469989924552543,0.03590976431678072,0.039993922321306385,0.03717787750811574,0.04936890853767828,0.07435018949486505,0.08175394366886124,0.08550373770457931,0.0864723318955356,0.08357548041859886,0.08380768118274062,0.07773957260049613,0.06444814173370261,0.0683583014799094,0.07231405200050567,0.07233600262184048,0.07766225446612829,0.0811242140576649,0.08414014187779095,0.08984583903305321,0.08603735794947553,0.09162947834627744,0.09162947834627744,0.09407494222685919,0.09452628946888098,0.1005594710970179,0.09868794525763569,0.10118029062517309,0.09501712333994661,0.09204883902566685,0.10018146543703565,0.0947527339755716,0.0947262669861999,0.09851842199498506,0.09464694251432881,0.06471043720981129,0.06384495045927352,0.07465542986167151,0.08191627944728808,0.09289851261241466,0.0813754665592441,0.07061579261751483,0.06632178615853235,0.06409542300908377,0.07661277971690872,0.08213554621372765,0.07096952469709095,0.07252866879092146,0.0569970311406891,0.0569970311406891,0.05857123551874288,0.059716858852906896,0.0778639913574235,0.0757490670165577,0.08569054532495102,0.09442055476554678,0.09442055476554678,0.10053973585254106,0.10583915531207033,0.10297993932760363,0.08829188029549151,0.09746752447320794,0.09277764841628766,0.09803919656846816,0.09297959257820132,0.0853419018487056,0.09254080925173547,0.0964418631673496,0.10007953752261578,0.09056969182895536,0.09725980412440904,0.09759932926808368,0.09487174607843585,0.10524405929267111,0.10517211289709749,0.1076141165526483,0.1099882654194726,0.10564466053518373,0.08843326386264394,0.08345177029639217,0.07876105515799559,0.07889707018757974,0.0629053275090552,0.07863510792971873,0.06088170528140857,0.048571417049902976,0.059668889578638584,0.04168921247118362,0.04719464751663871,0.01985110572820936,0.012254458809673352,0.01712942675016471,0.003141059943699176,0.02418396589689742,0.030579600871503132,0.019868933797182464,0.030609541970136434,0.028422258456354044,0.029246572064186793,0.04673868919282498,0.048311784683479075,0.03709214432588048,0.033779683318748255,0.013845082191895841,0.019368322549540906,0.023142427104753338,0.02984808853423715,-0.019757823294758836,-0.08136688519299007,-0.0837010797989528,-0.0995261630760087,-0.008631283242971577,-0.04385189026708325,-0.025921509431306333,-0.018008190104962907,-0.019737465330264214,-0.04240071929516631,-0.041074760671392596,-0.06492440900541219,-0.04011745687996182,-0.02359359251308213,-0.003536964430498557,0.003809120365202645,0.004449621904203838,0.010235263449761334,0.011714160701693288,0.017993506418145344,0.03261269752725937,0.02621065049794069,0.018487665219549143,0.02282460332625824,0.028607624473725224,0.027895890338848872,0.05993586701586828,0.06715792603611526,0.06818181727839168,0.07230563471714824,0.07928648408524808,0.07627443658172517,0.06000771731396526,0.05956274729154387,0.05283184770007132,0.0730844285022556,0.0730844285022556,0.06749762592581021,0.0715007967964425,0.07141960833944694,0.07551325983007295,0.08129679336544271,0.08137047811016096,0.0760791201314639,0.08630731634683997,0.08722684153323179,0.09269485407487821,0.08994719375659166,0.09376232682826746,0.08240165823816525,0.09175048138635411,0.08336322166270982,0.08305393362799052,0.08087289841240164,0.08087289841240164,0.09043355348366156,0.10149388210061971,0.10149059599227073,0.10947872702478811,0.11468412628093816,0.11983526378706699,0.12344998098367732,0.13175435919434264,0.12386099109009763,0.12386099109009763,0.12314484783962776,0.12918865061640794,0.13193109168933326,0.12862811991610812,0.13003454424704408,0.12607039918137275,0.1292589677067557,0.13461834794676797,0.1345278576439597,0.13592601464963217,0.1365633431462996,0.14434487529200268,0.1450428552889349,0.14900930629061548,0.14918614876188308,0.1462223185644156,0.14497210462590537,0.1412704425795308,0.12514905539396182,0.13490891610491396,0.14216443832476777,0.1413666401529401,0.14913609496932878,0.1466288265754443,0.15791038565061477,0.1611352590346602,0.161438303913215,0.15853696399685013,0.15843619573911383,0.1525608666269065,0.1501262359946427,0.14611401626569176,0.1611863014244701,0.15691078888482402,0.16103626259494064,0.16342439304824374,0.1665761404897097,0.16015740008691814,0.1532110500258863,0.15829816232882798,0.166610009431702,0.163439836761766,0.16554360121265432,0.16822814824272747,0.1712071764721248,0.1796572640952192,0.17917438621379134,0.18386996394035116,0.18258120350702,0.18161056442877488,0.18638825226548228,0.19126177620296403,0.19566212691772655,0.1957338301126299,0.18765858899604027];;

  // Graphique 1
  const graph1 = document.getElementById("graph1");
  Plotly.newPlot(graph1, [
    {x:dates1, y:close1, type:"scatter", mode:"lines", name:"Prix", line:{color:"#007a33"}},
    {x:dates1, y:div1, type:"scatter", mode:"lines", name:"+dividende", line:{color:"orange"}}
  ], {margin:{t:30,l:50,r:30,b:40}, title:"Croissance de 10 000$", hovermode:"x unified"});

  // Graphique 2
  const graph2 = document.getElementById("graph2");
  Plotly.newPlot(graph2, [
    {x:dates1, y:log_close, type:"scatter", mode:"lines", name:"log(valeur)", line:{color:"#007a33"}},
    {x:dates1, y:log_sp500, type:"scatter", mode:"lines", name:"log(S&P500)", line:{color:"orange"}}
  ], {margin:{t:30,l:50,r:30,b:40}, title:"Comparaison avec S&P500", hovermode:"x unified"});

  // --- Synchronisation axes X ---
  graph1.on('plotly_relayout', function(e){
    if(e['xaxis.range[0]'] && e['xaxis.range[1]']){
      Plotly.relayout(graph2, {'xaxis.range':[e['xaxis.range[0]'], e['xaxis.range[1]']]});
    }
  });
  graph2.on('plotly_relayout', function(e){
    if(e['xaxis.range[0]'] && e['xaxis.range[1]']){
      Plotly.relayout(graph1, {'xaxis.range':[e['xaxis.range[0]'], e['xaxis.range[1]']]});
    }
  });

  // --- Graphique 3 : Scatter ---
  let tickers = ["BKCL.TO","DRFC.TO","ESGA.TO","HURA.TO","XUSC.TO","ZGQ.TO","ZLB.TO","ZQQ.TO","ZWE.TO","ZZZD.TO","ZWU.TO","ZWS.TO","ZWK.TO","ZVC.TO","ZUP.TO","ZUE.TO","ZUB.TO","ZRE.TO","ZPR.TO","ZPAY.TO","ZMT.TO","ZMI.TO","ZLSC.TO","ZLH.TO","ZLD.TO","ZJK.TO","ZIU.TO","ZHY.TO","ZHP.TO","ZGRO.TO","ZGI.TO","ZFN.TO","ZESG.TO","ZEQ.TO","ZEM.TO","ZEAT.TO","ZDV.TO","ZDJ.TO","ZDH.TO","ZCN.TO","ZCH.TO","ZBAL.TO","XWD.TO","XUU.TO","XUSR.TO","XUS.TO","XTR.TO","XSU.TO","XSPC.TO","XSMH.TO","XSI.TO","XSEA.TO","XSC.TO","XQQU.TO","XQLT.TO","XMY.TO","XMV.TO","XMTM.TO","XMM.TO","XMI.TO","XMD.TO","XMA.TO","XIU.TO","XINC.TO","XID.TO","XHY.TO","XHD.TO","XHAK.TO","XGI.TO","XFN.TO","XFLI.TO","XEXP.TO","XETM.TO","XEQT.TO","XEMC.TO","XEI.TO","XEG.TO","XEC.TO","XDUH.TO","XDSR.TO","XDNA.TO","XDGH.TO","XCV.TO","XCS.TO","XCLN.TO","XCH.TO","XCD.TO","XBAL.TO","XAGH.TO","XAD.TO","WSRI.TO","WOMN.TO","VXC.TO","VVL.TO","VUN.TO","VRIF.TO","VMO.TO","VIDY.TO","VGRO.TO","VGG.TO","VEQT.TO","VEE.TO","VDY.TO","VCNS.TO","VCIP.TO","VBG.TO","VA.TO","USSX.TO","USCL.TO","UMI.TO","UDIV.TO","UDA.TO","TULV.TO","TUED.TO","TTP.TO","TQSM.TO","TQGD.TO","TPU.TO","TPE.TO","TLV.TO","TKN.TO","TILV.TO","THE.TO","TGRE.TO","TGED.TO","TECX.TO","TECH.TO","TDOC.TO","TCLV.TO","TBAL.TO","STPL.TO","SMAX.TO","RUDH.TO","RUD.TO","RPDH.TO","RIT.TO","RIIN.TO","RIFI.TO","RID.TO","RCDC.TO","RBOT.TO","QDX.TO","QCLN.TO","QBTL.TO","PZW.TO","PXS.TO","PRP.TO","PR.TO","PMM.TO","PLV.TO","PINV.TO","PIN.TO","PHW.TO","PHE.TO","PFMN.TO","PFIA.TO","PFAA.TO","PDF.TO","PCOR.TO","PBI.TO","PAYF.TO","PACF.TO","ONEQ.TO","NXTG.TO","NVHE.TO","NUSA.TO","NSGE.TO","NREA.TO","NINT.TO","NGPE.TO","MWLV.TO","MUSA.TO","MULV.TO","MUB.TO","MSFH.TO","MORE.TO","MKB.TO","MIQE.TO","MINF.TO","MGRW.TO","MGDV.TO","MGAB.TO","MDIV.TO","MCSB.TO","MCLV.TO","MBAL.TO","LONG.TO","LLYH.TO","LIFE.TO","KNGX.TO","KNGC.TO","JAPN.TO","IWEB.TO","IUCE.TO","ISTE.TO","IQD.TO","INCM.TO","IITE.TO","IIAE.TO","IGCF.TO","IGAF.TO","IDR.TO","ICGB.TO","ICAE.TO","HYBR.TO","HXT.TO","HXQ.TO","HXE.TO","HXD.TO","HUTS.TO","HUTE.TO","HULC.TO","HTAE.TO","HSU.TO","HSD.TO","HQD.TO","HPF.TO","HOD.TO","HMMJ.TO","HLIT.TO","HIX.TO","HIND.TO","HHLE.TO","HGY.TO","HGRW.TO","HGR.TO","HGD.TO","HFIN.TO","HFD.TO","HEWB.TO","HERO.TO","HEQL.TO","HEJ.TO","HEE.TO","HEB.TO","HDIV.TO","HDGE.TO","HCLN.TO","HCA.TO","HBLK.TO","HBIE.TO","HBF.TO","HBAL.TO","HAZ.TO","HAF.TO","GRO.TO","GRCC.TO","GIQU.TO","GIES.TO","GEQT.TO","GDEP.TO","GCNS.TO","GBAL.TO","FUD.TO","FST.TO","FSF.TO","FOUR.TO","FLX.TO","FLUR.TO","FLOT.TO","FLI.TO","FLCD.TO","FINT.TO","FIE.TO","FHQ.TO","FHI.TO","FHG.TO","FHE.TO","FHC.TO","FGGE.TO","FGEB.TO","FDN.TO","FCVH.TO","FCUH.TO","FCSI.TO","FCQH.TO","FCIV.TO","FCII.TO","FCGI.TO","FCCV.TO","FCCD.TO","EVO.TO","ETP.TO","ESPX.TO","ESGG.TO","ESGC.TO","EQY.TO","EQL.TO","EQCC.TO","ENCC.TO","EMAX.TO","EHE.TO","EGIF.TO","EDGF.TO","EDGE.TO","DXZ.TO","DXW.TO","DXUS.TO","DXU.TO","DXQ.TO","DXP.TO","DXN.TO","DXIF.TO","DXGE.TO","DXG.TO","DXF.TO","DXEM.TO","DXC.TO","DXAU.TO","DSAE.TO","DRMU.TO","DRME.TO","DRMD.TO","DRMC.TO","DRFU.TO","DRFG.TO","DRFE.TO","DRFD.TO","DMEU.TO","DMEI.TO","DIVS.TO","DISC.TO","DGRC.TO","DGR.TO","DCU.TO","DCS.TO","DCG.TO","DCC.TO","DATA.TO","DAMG.TO","CYH.TO","CYBR.TO","CWW.TO","CVLU.TO","CVD.TO","CUEI.TO","CUEH.TO","CUDV.TO","CUD.TO","CUBD.TO","CROP.TO","CPLS.TO","CPD.TO","COW.TO","COPP.TO","COMM.TO","CNV.TO","CNDX.TO","CNCL.TO","CNCC.TO","CNAO.TO","CMOM.TO","CMGG.TO","CMEY.TO","CMDO.TO","CMAR.TO","CMAG.TO","CLML.TO","CINV.TO","CINT.TO","CIF.TO","CIEM.TO","CIEI.TO","CIEH.TO","CIC.TO","CIBR.TO","CIAI.TO","CHPS.TO","CGXF.TO","CGRO.TO","CGRN.TO","CGRE.TO","CGRA.TO","CGR.TO","CGLO.TO","CGIN.TO","CGDV.TO","CGAA.TO","CFRT.TO","CFLX.TO","CEW.TO","CEQT.TO","CEMI.TO","CDZ.TO","CDIV.TO","CDEF.TO","CCRE.TO","CCOM.TO","CCNV.TO","CCNS.TO","CCEI.TO","CBUG.TO","CBNK.TO","CBL.TO","CBIN.TO","CBGR.TO","CBCX.TO","CBAL.TO","CARS.TO","CANL.TO","CALL.TO","BREA.TO","BNKL.TO","BND.TO","BNC.TO","BMAX.TO","BLOV.TO","BLCK.TO","BKCC.TO","BGU.TO","BGC.TO","BFIN.TO","BDIV.TO","BASE.TO","BANK.TO","ATSX.TO","ARTI.TO","ARB.TO","AMZH.TO","AMHE.TO","AMAX.TO","AIGO.TO","ADIV.TO","ACZ.TO","ACAA.TO","XUSC-U.TO","ZLU-U.TO","FCUV-U.TO","CINF.TO","DMEC.TO","EBNK.TO","FCUV.TO","VFV.TO","ZEA.TO","ZID.TO","ZLU.TO","ZUQ.TO","ZWG.TO","ZXM.TO","ZWT.TO","ZWP.TO","ZWHC.TO","ZUT.TO","ZUH.TO","ZUD.TO","ZSML.TO","ZPW.TO","ZPH.TO","ZNQ.TO","ZMID.TO","ZLSU.TO","ZLI.TO","ZLE.TO","ZJPN.TO","ZJG.TO","ZIN.TO","ZHU.TO","ZGSB.TO","ZGRN.TO","ZGD.TO","ZFC.TO","ZEQT.TO","ZEO.TO","ZEB.TO","ZDY.TO","ZDM.TO","ZDI.TO","ZCON.TO","ZCLN.TO","ZBK.TO","ZACE.TO","XVLU.TO","XUT.TO","XUSF.TO","XUH.TO","XSUS.TO","XST.TO","XSP.TO","XSMC.TO","XSEM.TO","XSE.TO","XRE.TO","XQQ.TO","XPF.TO","XMW.TO","XMU.TO","XMS.TO","XML.TO","XMH.TO","XMC.TO","XLVE.TO","XIT.TO","XIN.TO","XIC.TO","XHU.TO","XHC.TO","XGRO.TO","XGD.TO","XFLX.TO","XFH.TO","XEU.TO","XESG.TO","XEN.TO","XEM.TO","XEH.TO","XEF.TO","XDV.TO","XDU.TO","XDRV.TO","XDIV.TO","XDG.TO","XCSR.TO","XCNS.TO","XCHP.TO","XCG.TO","XBM.TO","XAW.TO","XAGG.TO","WXM.TO","WSRD.TO","VXM.TO","VVO.TO","VUS.TO","VSP.TO","VRE.TO","VIU.TO","VI.TO","VGH.TO","VGAB.TO","VEF.TO","VE.TO","VDU.TO","VCN.TO","VCE.TO","VBAL.TO","UTIL.TO","USSL.TO","USCC.TO","UMAX.TO","UDEF.TO","TXF.TO","TUEX.TO","TTTX.TO","TRVL.TO","TQGM.TO","TQCD.TO","TPRF.TO","TOWR.TO","TLF.TO","TINF.TO","THU.TO","TGRO.TO","TGGR.TO","TGAF.TO","TECI.TO","TEC.TO","TCON.TO","TBNK.TO","SYLD.TO","SPLT.TO","SKYY.TO","RUDC.TO","RPF.TO","RPD.TO","RIRA.TO","RIGE.TO","RIDH.TO","REIT.TO","RCD.TO","RBNK.TO","QCN.TO","QCE.TO","QAH.TO","PYF.TO","PXC.TO","PRA.TO","PPLN.TO","PMIF.TO","PLDI.TO","PINC.TO","PID.TO","PHR.TO","PFMS.TO","PFLS.TO","PFAE.TO","PDIV.TO","PDC.TO","PCON.TO","PBD.TO","PAGF.TO","PABF.TO","ONEC.TO","NXF.TO","NVDH.TO","NUBF.TO","NSCE.TO","NPRF.TO","NHYB.TO","NDIV.TO","MUSC.TO","MUMC.TO","MULC.TO","MSHE.TO","MREL.TO","MNXT.TO","MIVG.TO","MINT.TO","MHCD.TO","MGQE.TO","MGB.TO","MFT.TO","MCSM.TO","MCON.TO","MCLC.TO","LS.TO","LMAX.TO","LLHE.TO","LEAD.TO","KNGU.TO","JEPI.TO","IXTE.TO","IUTE.TO","IUAE.TO","ISIF.TO","INOC.TO","INAI.TO","IICE.TO","IGEO.TO","IGB.TO","IFRF.TO","ICTE.TO","ICCB.TO","HYLD.TO","HXU.TO","HXS.TO","HXF.TO","HXDM.TO","HXCN.TO","HUTL.TO","HUM.TO","HUBL.TO","HTA.TO","HSH.TO","HQU.TO","HPR.TO","HOG.TO","HND.TO","HMAX.TO","HLIF.TO","HIU.TO","HIG.TO","HHL.TO","HGU.TO","HGRO.TO","HGGG.TO","HFU.TO","HFG.TO","HEX.TO","HEU.TO","HEQT.TO","HEP.TO","HEF.TO","HED.TO","HEA.TO","HDIF.TO","HCON.TO","HCAL.TO","HBNK.TO","HBIG.TO","HBGD.TO","HBD.TO","HBA.TO","HAL.TO","HAC.TO","GRNI.TO","GLCC.TO","GIQG.TO","GGRO.TO","GDPY.TO","GCSC.TO","GCFE.TO","FXM.TO","FTHI.TO","FSR.TO","FPR.TO","FMAX.TO","FLUS.TO","FLSD.TO","FLJA.TO","FLCP.TO","FLAM.TO","FINO.TO","FHU.TO","FHM.TO","FHH.TO","FHF.TO","FHD.TO","FGO.TO","FGEP.TO","FGBL.TO","FDL.TO","FCUQ.TO","FCUD.TO","FCRR.TO","FCMI.TO","FCIQ.TO","FCID.TO","FCGB.TO","FCCQ.TO","FBT.TO","ETSX.TO","ETHI.TO","ESGY.TO","ESGE.TO","ESG.TO","EQLI.TO","EQCL.TO","ENCL.TO"];
  let slope = [0.155,0.009,0.01,0.181,0.014,0.03,0.02,0.059,0.019,-0.049,-0.001,0.013,-0.006,0.014,-0.031,0.023,-0.013,0.006,-0.035,0.024,-0.096,-0.019,0.033,-0.013,-0.037,-0.016,0.054,-0.017,-0.048,-0.025,0.017,-0.006,-0.046,0.001,-0.036,-0.191,0.002,0.01,0.004,-0.006,-0.067,-0.048,0.023,0.029,0.034,0.045,0.007,-0.009,-0.0,-0.039,-0.059,-0.014,-0.068,0.0,0.03,-0.034,-0.001,-0.002,-0.044,-0.023,0.011,-0.065,0.026,-0.072,-0.013,-0.018,-0.014,0.017,-0.006,0.042,0.003,-0.051,0.0,0.013,-0.039,0.01,-0.029,-0.032,-0.023,-0.014,-0.222,-0.011,0.006,-0.043,-0.309,-0.059,-0.012,-0.014,0.0,0.117,0.021,0.026,0.007,-0.007,0.036,-0.027,0.004,0.024,-0.028,0.03,0.005,-0.031,0.022,-0.05,-0.077,-0.087,-0.026,0.032,0.149,-0.022,-0.018,0.03,-0.002,0.066,0.006,0.025,0.044,0.034,-0.02,-0.005,0.012,-0.021,-0.003,-0.045,0.058,0.128,0.081,-0.029,0.017,-0.006,-0.039,0.121,0.014,0.036,-0.015,0.032,0.015,-0.095,-0.016,0.011,-0.069,-0.021,-0.121,-0.11,-0.018,0.016,-0.051,-0.028,-0.104,-0.038,-0.112,-0.016,-0.067,-0.056,-0.035,-0.026,-0.072,0.002,-0.065,-0.027,0.035,0.0,-0.012,-0.149,0.381,0.028,-0.048,-0.021,-0.054,0.032,0.039,0.043,-0.006,-0.051,0.19,0.12,-0.074,0.156,-0.038,0.009,0.019,-0.085,0.057,-0.066,0.0,-0.02,0.003,-0.077,0.055,0.043,0.048,0.077,-0.017,-0.029,-0.042,-0.01,-0.03,0.016,0.014,-0.078,-0.048,-0.012,-0.13,0.009,-0.021,-0.025,0.067,-0.069,-0.269,-0.071,0.037,0.162,0.194,0.032,-0.353,-0.466,-0.012,-0.273,-0.325,-0.365,-0.134,0.02,-0.018,-0.031,-0.001,-0.052,-0.438,0.103,-0.324,-0.0,-0.047,0.0,-0.094,-0.164,0.072,0.12,0.008,-0.282,0.055,0.013,0.02,0.049,-0.037,0.018,-0.049,0.026,0.0,-0.022,-0.04,0.028,-0.023,-0.025,-0.012,-0.016,-0.003,-0.014,-0.023,0.049,-0.01,-0.115,0.027,0.023,-0.031,0.03,0.062,0.041,0.01,-0.152,-0.116,-0.071,-0.002,-0.085,0.064,0.002,-0.025,0.008,0.051,-0.01,-0.019,0.041,0.001,0.056,-0.049,0.067,0.021,0.013,0.048,0.017,0.102,-0.07,-0.086,-0.02,-0.081,-0.068,-0.017,-0.03,-0.05,0.039,-0.006,0.04,-0.005,-0.035,-0.008,0.0,0.015,0.008,-0.155,0.015,0.0,-0.032,0.021,-0.075,-0.005,0.017,-0.006,-0.021,-0.02,-0.043,0.035,0.043,-0.032,-0.003,0.002,0.014,-0.074,-0.07,-0.071,-0.058,-0.019,-0.153,-0.007,-0.007,0.024,-0.038,-0.028,0.035,0.121,-0.038,-0.007,0.0,-0.013,-0.048,-0.036,-0.001,-0.007,0.001,0.012,0.119,0.09,-0.001,0.043,0.022,0.05,-0.043,-0.043,-0.072,-0.026,0.076,0.063,-0.055,0.001,-0.042,0.023,0.08,0.033,-0.008,0.101,0.07,-0.008,-0.002,-0.133,-0.03,-0.012,-0.012,-0.016,-0.05,-0.059,0.01,-0.028,-0.044,0.026,0.021,-0.034,0.014,0.031,-0.008,-0.048,-0.126,-0.085,-0.088,-0.009,0.049,0.045,0.041,-0.061,-0.013,0.231,-0.03,-0.095,0.084,0.003,-0.016,0.152,-0.05,0.021,0.063,-0.008,0.005,0.012,-0.002,-0.031,0.02,0.025,0.063,0.13,0.031,0.079,-0.03,0.16,0.187,0.374,0.102,0.028,-0.032,-0.057,0.014,0.009,0.015,0.022,0.103,0.201,0.101,0.047,-0.015,0.007,0.024,0.045,0.044,0.001,0.142,0.022,-0.073,0.009,0.006,0.001,-0.009,0.001,-0.0,0.045,0.013,0.015,-0.047,-0.088,0.011,-0.106,-0.002,-0.064,-0.061,0.027,-0.021,-0.035,-0.034,-0.062,0.027,0.025,-0.003,-0.012,-0.069,-0.209,-0.006,0.038,-0.003,0.003,0.0,0.008,0.024,0.015,0.014,-0.013,-0.072,-0.073,0.036,0.057,-0.034,-0.002,0.024,-0.019,-0.036,-0.024,-0.004,-0.01,0.025,-0.008,0.023,-0.007,-0.001,-0.009,-0.049,0.0,-0.015,-0.013,0.006,-0.006,-0.045,-0.007,-0.014,0.016,-0.005,-0.157,0.031,-0.003,0.013,-0.05,-0.081,-0.018,-0.008,0.004,0.0,-0.002,-0.048,-0.015,-0.04,0.016,0.02,-0.017,-0.025,-0.008,0.007,-0.085,-0.008,-0.012,-0.02,0.001,0.009,-0.031,-0.093,0.031,0.063,0.041,-0.07,0.104,0.015,-0.004,-0.006,-0.003,0.055,0.022,-0.106,0.092,0.022,0.015,0.024,0.015,-0.001,0.019,0.052,-0.034,0.071,0.022,-0.002,-0.08,-0.013,-0.023,-0.02,-0.018,-0.026,-0.009,-0.039,0.002,0.026,0.02,-0.045,0.019,-0.012,0.005,-0.024,-0.003,-0.044,-0.021,-0.018,-0.004,-0.023,-0.064,-0.001,0.067,0.061,0.012,-0.055,-0.05,0.018,0.005,-0.033,0.017,0.31,-0.044,0.021,0.005,-0.01,0.004,-0.054,-0.024,0.001,0.241,0.02,-0.01,-0.019,-0.004,-0.049,0.073,-0.068,-0.012,0.004,-0.042,0.01,-0.049,-0.013,-0.121,0.05,-0.087,-0.041,-0.013,0.017,-0.051,-0.075,-0.003,0.126,-0.003,-0.053,-0.05,-0.206,-0.114,-0.125,0.102,-0.05,0.037,-0.011,-0.051,-0.0,0.006,0.039,-0.015,0.122,0.12,0.106,-0.033,-0.05,-0.245,0.1,0.002,-0.256,0.001,0.045,-0.246,-0.005,-0.034,-0.007,0.095,-0.082,-0.262,0.0,-0.107,-0.063,-0.26,-0.012,0.053,-0.062,0.066,0.104,0.004,0.356,-0.22,0.109,0.002,-0.027,-0.101,-0.008,-0.009,0.005,0.02,0.017,0.11,-0.006,-0.004,-0.011,-0.017,0.172,0.029,-0.047,-0.032,-0.054,0.033,0.002,-0.103,-0.06,-0.033,-0.14,-0.021,-0.104,0.033,-0.027,-0.005,0.031,0.022,0.022,-0.026,-0.025,0.0,0.0,-0.004,-0.03,0.052,0.003,0.037,-0.014,0.044,0.024,0.103,0.116];
  let volatility = [0.948,1.132,1.016,2.242,1.017,0.989,1.04,1.387,0.921,0.651,1.05,0.891,1.967,1.208,0.805,1.067,2.512,1.622,1.551,0.398,3.922,0.666,0.464,0.612,0.708,0.551,0.579,1.676,0.942,1.515,1.703,0.815,1.523,0.776,1.265,1.276,1.077,1.073,1.064,1.011,3.785,1.516,1.125,0.854,1.136,0.901,0.908,1.199,0.887,1.406,0.481,0.836,0.442,0.0,0.889,0.58,0.767,1.298,0.877,1.48,0.715,1.378,0.552,0.544,1.696,1.594,0.85,1.155,1.094,0.643,0.406,0.844,0.0,0.817,0.81,1.194,1.958,1.204,0.675,0.974,1.827,0.615,0.747,1.119,1.931,2.63,1.21,0.503,0.0,0.847,0.584,0.655,0.845,1.471,0.902,0.559,1.075,0.912,0.707,0.638,0.815,1.127,1.155,0.567,0.533,0.624,0.919,1.102,1.168,1.227,0.615,0.706,0.5,1.044,0.915,0.682,0.619,0.88,0.913,1.164,3.863,0.751,0.861,0.955,0.963,2.023,2.112,0.501,0.681,0.698,0.526,1.126,0.941,0.8,0.995,2.525,0.609,0.536,0.996,0.769,2.091,0.883,2.75,0.999,1.08,0.865,0.349,1.393,0.981,0.558,1.99,0.679,0.882,0.88,0.302,0.371,0.229,0.824,0.453,1.634,0.406,0.0,1.019,3.179,3.044,0.977,1.059,0.803,0.989,1.482,0.517,1.133,0.825,0.559,1.122,0.767,0.685,0.546,0.696,0.755,0.646,0.705,0.971,0.37,0.0,0.775,1.011,1.14,0.747,0.782,1.414,1.134,0.24,1.017,1.145,0.763,1.099,0.972,0.647,0.771,0.88,2.045,0.178,0.81,1.478,1.057,1.338,4.823,3.946,1.795,1.291,2.101,2.497,4.764,4.896,7.296,2.545,7.703,4.549,2.142,5.753,0.919,1.598,1.607,0.546,1.183,6.371,1.427,3.857,1.285,1.949,0.0,3.558,7.128,1.172,0.694,1.087,0.964,1.163,4.317,0.609,1.231,0.827,1.038,0.856,0.705,0.0,1.584,0.637,1.01,0.38,0.68,0.813,0.856,1.099,1.924,1.838,0.298,0.906,1.185,1.481,0.807,1.004,1.471,1.622,1.005,1.127,3.226,2.155,1.005,0.46,2.027,0.98,1.045,0.979,0.856,0.792,0.599,0.692,0.88,1.025,0.641,0.636,0.978,0.811,0.759,0.601,0.831,0.695,5.001,1.252,1.084,0.624,1.222,1.86,0.857,0.951,1.289,1.142,0.673,1.3,0.621,1.345,0.523,1.435,1.304,1.087,1.077,0.0,0.878,0.887,1.195,1.23,0.932,0.828,0.899,0.963,1.05,1.131,0.653,1.287,1.189,0.712,0.754,0.607,0.318,0.357,0.393,2.027,0.494,1.113,1.853,1.032,0.847,0.658,0.985,1.825,0.796,1.263,0.0,0.445,0.597,0.947,1.133,2.52,1.253,0.342,0.712,0.614,1.095,1.067,1.152,1.656,0.297,0.286,0.394,1.522,1.614,2.143,0.894,1.211,0.956,0.82,1.171,1.432,1.457,2.033,1.877,1.754,0.592,1.004,0.822,0.572,2.078,0.809,0.267,0.592,1.984,0.273,1.032,1.122,0.776,0.912,0.682,0.644,0.839,0.5,0.718,0.457,0.635,0.897,1.436,1.615,0.423,0.4,0.477,4.855,0.431,4.001,0.795,2.076,1.039,1.264,0.497,1.138,0.889,0.615,1.013,1.404,0.756,0.68,1.352,0.964,1.501,1.269,0.694,2.385,0.332,1.815,2.262,1.592,1.414,0.494,1.43,0.585,0.893,0.724,1.091,0.424,0.711,1.146,0.644,1.02,0.873,1.921,1.133,0.956,0.502,1.151,1.757,0.851,1.124,1.412,2.535,0.999,1.112,0.799,0.742,1.287,0.886,0.682,0.884,1.038,0.652,5.399,1.28,0.991,0.658,0.801,3.06,0.663,2.614,3.707,1.324,1.24,1.093,1.062,1.461,1.025,2.066,1.181,0.828,1.245,0.0,1.039,0.878,1.539,1.211,1.135,1.149,0.659,1.28,1.477,1.017,1.263,1.382,0.745,0.736,1.243,0.977,2.199,1.877,0.927,0.6,0.694,1.385,0.737,1.589,0.0,0.922,0.965,0.854,0.795,1.301,0.836,0.95,0.624,0.527,1.321,0.94,0.513,1.057,0.597,2.22,0.802,2.973,0.84,0.0,1.134,1.159,1.811,0.677,1.121,0.98,1.266,0.95,0.882,0.767,0.226,1.055,0.999,0.893,1.069,0.958,0.624,1.499,1.484,0.838,0.568,0.81,1.772,1.072,1.358,1.368,0.694,0.894,1.288,1.012,1.582,0.591,1.055,0.767,0.972,0.975,1.818,1.53,0.641,1.082,0.293,0.25,2.155,0.802,1.373,1.125,0.52,0.88,1.031,0.936,1.049,1.348,0.831,0.82,1.049,0.396,1.315,1.657,1.722,0.447,0.136,1.004,0.934,1.096,0.612,0.553,0.832,2.126,1.053,0.401,0.453,0.407,0.259,0.572,2.452,2.385,0.362,0.58,1.191,0.269,0.58,1.235,1.114,0.979,1.529,1.444,0.888,0.689,0.905,0.727,0.971,0.527,0.607,0.982,0.726,0.955,0.727,1.03,1.517,1.849,1.284,0.642,0.947,1.62,0.805,0.551,0.836,1.688,1.087,1.138,0.501,0.231,0.798,0.166,1.163,3.837,1.137,1.214,0.898,0.791,0.72,1.407,1.848,1.58,2.421,5.826,1.294,2.14,11.054,0.942,0.885,1.099,0.969,1.132,6.505,0.998,2.224,3.667,0.962,2.476,7.188,1.015,5.512,2.821,11.225,1.577,0.938,0.739,1.406,1.02,0.483,4.94,3.127,0.976,0.845,0.8,1.048,2.702,1.664,0.925,0.633,0.769,0.897,1.66,0.837,1.275,1.053,1.221,0.771,0.197,0.899,0.332,0.865,1.951,2.164,1.157,1.164,2.536,1.589,0.463,0.749,0.275,1.397,0.729,0.849,0.729,0.815,1.063,1.142,0.0,0.834,1.172,0.772,1.303,0.853,0.777,0.769,0.771,0.766,1.089];

  let colors = tickers.map(t => t === "ENCL.TO" ? "red" : "grey");
  let sizes = tickers.map(t => t === "ENCL.TO" ? 12 : 8);
  let texts = tickers.map(t => t === "ENCL.TO" ? t : "");
  let hovertexts = tickers;

  Plotly.newPlot("graph3", [{
    x: slope,
    y: volatility,
    mode: "markers+text",
    text: texts,
    hovertext: hovertexts,
    hoverinfo: "text",
    textposition: "top center",
    marker: { color: colors, size: sizes }
  }], {
    margin: {t:30, l:50, r:30, b:40},
    title: "Slope vs Volatilité",
    xaxis: {title: "Slope"},
    yaxis: {title: "Volatilité"}
  });

  // --- Graphique 4 : Histogramme ---
  let secteurs = ["realestate","consumer_cyclical","basic_materials","consumer_defensive","technology","communication_services","financial_services","utilities","industrials","energy","healthcare"];
  let fractions = [0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,100.0,0.0];

  Plotly.newPlot("graph4", [{
    x: secteurs,
    y: fractions,
    type: "bar",
    text: secteurs,
    textposition: "inside",
    insidetextanchor: "middle",
    textangle: -90,
    marker: { color:["#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b","#003314","#00220d","#001107"] }
  }], {
    margin:{t:30,l:50,r:30,b:40},
    title:"Répartition par secteur",
    yaxis:{title:"Fraction du portefeuille (%)"},
    dragmode: false,
    staticPlot: true
  });
</script>
</body>
</html>