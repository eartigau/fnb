<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Info sur Desjardins Canadian Equity Index ETF</title>
<!-- Styles -->
<link rel="stylesheet" href="disnat-style.css">
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<style>
  body { margin: 0; }

  /* Ajustement des filtres */
  .filters input[type="number"] {
    width: 5ch;
    padding: 2px;
    box-sizing: content-box;
  }

  /* --- Grille 2x2 pour graphiques --- */
  .plots {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* exactement 2 colonnes */
    gap: 16px;
    margin: 16px 0;
  }
  /* Responsive sur écran petit */
  @media (max-width: 700px) {
    .plots {
      grid-template-columns: 1fr; /* 1 colonne sur mobile */
    }
  }

  .plot-box {
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 6px;
    padding: 8px;
    box-sizing: border-box;
    background: white;
    height: 0;
    padding-bottom: 66.66%; /* ratio 3:2 */
    position: relative;
  }
  .plot-box > div {
    position: absolute;
    top: 0; left: 0;
    width: 100% !important;
    height: 100% !important;
  }

  /* Info portefeuille à côté si écran large */
  .grid {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
  }
  .ticker-info {
    flex: 1 1 300px;
    min-width: 300px;
    max-width: 400px;
  }
  .plots {
    flex: 2 1 600px;
    min-width: 300px;
  }
</style>
</head>
<body>
  <div class="container">
    <header class="header">
      <div class="brand">
        <div class="logo">FNB</div>
        <h1>Desjardins Canadian Equity Index ETF</h1>
      </div>
      <nav class="nav">
        <a href="index.html">Accueil</a>
        <a href="documentation.html">Documentation</a>
      </nav>
    </header>
  </div>

  <h2>Évolution du portefeuille et analyse</h2>

  <div class="grid">
    <div class="plots">
      <div class="plot-box"><div id="graph1"></div></div>
      <div class="plot-box"><div id="graph2"></div></div>
      <div class="plot-box"><div id="graph3"></div></div>
      <div class="plot-box"><div id="graph4"></div></div>
    </div>

    <div class="ticker-info card">
      <h3>Infos Portefeuille</h3>
      <p><span class="kicker">Ticker</span> <strong>DMEC.TO</strong></p>
      <p><span class="kicker">Nom</span> Desjardins Canadian Equity Index ETF</p>
      <p><span class="kicker">Âge du FNB</span> 1.52 ans</p>
      <p><span class="kicker">Creux COVID-19 [S&P500]</span> nan% [-24.0%]</p>
      <p><span class="kicker">Creux 2022 [S&P500]</span> nan% [-15.9%]</p>
      <p><span class="kicker">Creux Tarif [S&P500]</span> -7.4% [-8.8%]</p>
      <p><span class="kicker">Croissance annuelle [S&P500]</span> 22.1 [13.5] %</p>
      <p><span class="kicker">Volatilité annuelle [S&P500]</span> 3.2 [4.2] %</p>
    </div>
  </div>

<script>
  // --- Données séries temporelles ---
  const dates1 = ["2024-04-18","2024-04-19","2024-04-22","2024-04-23","2024-04-24","2024-04-25","2024-04-26","2024-04-29","2024-04-30","2024-05-01","2024-05-02","2024-05-03","2024-05-06","2024-05-07","2024-05-08","2024-05-09","2024-05-10","2024-05-13","2024-05-14","2024-05-15","2024-05-16","2024-05-17","2024-05-21","2024-05-22","2024-05-23","2024-05-24","2024-05-27","2024-05-28","2024-05-29","2024-05-30","2024-05-31","2024-06-03","2024-06-04","2024-06-05","2024-06-06","2024-06-07","2024-06-10","2024-06-11","2024-06-12","2024-06-13","2024-06-14","2024-06-17","2024-06-18","2024-06-19","2024-06-20","2024-06-21","2024-06-24","2024-06-25","2024-06-26","2024-06-27","2024-06-28","2024-07-02","2024-07-03","2024-07-04","2024-07-05","2024-07-08","2024-07-09","2024-07-10","2024-07-11","2024-07-12","2024-07-15","2024-07-16","2024-07-17","2024-07-18","2024-07-19","2024-07-22","2024-07-23","2024-07-24","2024-07-25","2024-07-26","2024-07-29","2024-07-30","2024-07-31","2024-08-01","2024-08-02","2024-08-06","2024-08-07","2024-08-08","2024-08-09","2024-08-12","2024-08-13","2024-08-14","2024-08-15","2024-08-16","2024-08-19","2024-08-20","2024-08-21","2024-08-22","2024-08-23","2024-08-26","2024-08-27","2024-08-28","2024-08-29","2024-08-30","2024-09-03","2024-09-04","2024-09-05","2024-09-06","2024-09-09","2024-09-10","2024-09-11","2024-09-12","2024-09-13","2024-09-16","2024-09-17","2024-09-18","2024-09-19","2024-09-20","2024-09-23","2024-09-24","2024-09-25","2024-09-26","2024-09-27","2024-09-30","2024-10-01","2024-10-02","2024-10-03","2024-10-04","2024-10-07","2024-10-08","2024-10-09","2024-10-10","2024-10-11","2024-10-15","2024-10-16","2024-10-17","2024-10-18","2024-10-21","2024-10-22","2024-10-23","2024-10-24","2024-10-25","2024-10-28","2024-10-29","2024-10-30","2024-10-31","2024-11-01","2024-11-04","2024-11-05","2024-11-06","2024-11-07","2024-11-08","2024-11-11","2024-11-12","2024-11-13","2024-11-14","2024-11-15","2024-11-18","2024-11-19","2024-11-20","2024-11-21","2024-11-22","2024-11-25","2024-11-26","2024-11-27","2024-11-28","2024-11-29","2024-12-02","2024-12-03","2024-12-04","2024-12-05","2024-12-06","2024-12-09","2024-12-10","2024-12-11","2024-12-12","2024-12-13","2024-12-16","2024-12-17","2024-12-18","2024-12-19","2024-12-20","2024-12-23","2024-12-24","2024-12-27","2024-12-30","2024-12-31","2025-01-02","2025-01-03","2025-01-06","2025-01-07","2025-01-08","2025-01-09","2025-01-10","2025-01-13","2025-01-14","2025-01-15","2025-01-16","2025-01-17","2025-01-20","2025-01-21","2025-01-22","2025-01-23","2025-01-24","2025-01-27","2025-01-28","2025-01-29","2025-01-30","2025-01-31","2025-02-03","2025-02-04","2025-02-05","2025-02-06","2025-02-07","2025-02-10","2025-02-11","2025-02-12","2025-02-13","2025-02-14","2025-02-18","2025-02-19","2025-02-20","2025-02-21","2025-02-24","2025-02-25","2025-02-26","2025-02-27","2025-02-28","2025-03-03","2025-03-04","2025-03-05","2025-03-06","2025-03-07","2025-03-10","2025-03-11","2025-03-12","2025-03-13","2025-03-14","2025-03-17","2025-03-18","2025-03-19","2025-03-20","2025-03-21","2025-03-24","2025-03-25","2025-03-26","2025-03-27","2025-03-28","2025-03-31","2025-04-01","2025-04-02","2025-04-03","2025-04-04","2025-04-07","2025-04-08","2025-04-09","2025-04-10","2025-04-11","2025-04-14","2025-04-15","2025-04-16","2025-04-17","2025-04-21","2025-04-22","2025-04-23","2025-04-24","2025-04-25","2025-04-28","2025-04-29","2025-04-30","2025-05-01","2025-05-02","2025-05-05","2025-05-06","2025-05-07","2025-05-08","2025-05-09","2025-05-12","2025-05-13","2025-05-14","2025-05-15","2025-05-16","2025-05-20","2025-05-21","2025-05-22","2025-05-23","2025-05-26","2025-05-27","2025-05-28","2025-05-29","2025-05-30","2025-06-02","2025-06-03","2025-06-04","2025-06-05","2025-06-06","2025-06-09","2025-06-10","2025-06-11","2025-06-12","2025-06-13","2025-06-16","2025-06-17","2025-06-18","2025-06-19","2025-06-20","2025-06-23","2025-06-24","2025-06-25","2025-06-26","2025-06-27","2025-06-30","2025-07-02","2025-07-03","2025-07-04","2025-07-07","2025-07-08","2025-07-09","2025-07-10","2025-07-11","2025-07-14","2025-07-15","2025-07-16","2025-07-17","2025-07-18","2025-07-21","2025-07-22","2025-07-23","2025-07-24","2025-07-25","2025-07-28","2025-07-29","2025-07-30","2025-07-31","2025-08-01","2025-08-05","2025-08-06","2025-08-07","2025-08-08","2025-08-11","2025-08-12","2025-08-13","2025-08-14","2025-08-15","2025-08-18","2025-08-19","2025-08-20","2025-08-21","2025-08-22","2025-08-25","2025-08-26","2025-08-27","2025-08-28","2025-08-29","2025-09-02","2025-09-03","2025-09-04","2025-09-05","2025-09-08","2025-09-09","2025-09-10","2025-09-11","2025-09-12","2025-09-15","2025-09-16","2025-09-17","2025-09-18","2025-09-19","2025-09-22","2025-09-23","2025-09-24","2025-09-25","2025-09-26","2025-09-29","2025-09-30","2025-10-01","2025-10-02","2025-10-03","2025-10-06","2025-10-07","2025-10-08","2025-10-09","2025-10-10","2025-10-14","2025-10-15","2025-10-16","2025-10-17","2025-10-20","2025-10-21","2025-10-22","2025-10-23","2025-10-24"];;
  const close1 =  [10000,10090,10125,10180,10110,10135,10165,10160,10080,10105,10105,10135,10276,10316,10266,10346,10316,10341,10291,10316,10321,10321,10427,10341,10341,10341,10326,10311,10150,10211,10226,10226,10185,10251,10256,10206,10241,10150,10206,10080,10025,10025,10025,10040,10025,10001,10012,10122,10077,10122,10153,10178,10339,10329,10284,10289,10249,10365,10491,10551,10607,10612,10632,10551,10576,10647,10632,10561,10551,10622,10617,10627,10768,10617,10334,10264,10208,10370,10339,10430,10481,10556,10733,10753,10768,10743,10758,10778,10773,10894,10854,10808,10844,10824,10748,10743,10738,10637,10748,10743,10819,10955,11010,11076,11056,11056,11126,11109,11150,11205,11180,11226,11215,11210,11241,11210,11215,11215,11256,11251,11340,11378,11388,11443,11504,11560,11555,11565,11575,11479,11504,11474,11464,11499,11484,11337,11373,11378,11388,11550,11555,11580,11611,11692,11717,11742,11682,11707,11742,11748,11920,11948,11945,11925,11955,11991,12042,12021,12021,12052,12072,12118,12052,11996,12062,11950,11889,11839,11824,11580,11519,11580,11626,11682,11682,11616,11656,11732,11814,11778,11763,11727,11829,11691,11574,11589,11707,11742,11839,11895,11936,11951,12007,12023,11946,11992,12018,12191,12063,11931,11946,12053,12048,12023,12125,12114,12063,12135,12048,12089,12120,12120,12018,11926,11834,11967,11895,12018,11809,11747,11752,11650,11727,11554,11518,11559,11492,11640,11768,11712,11885,11946,11895,11995,12035,11959,11948,11764,11841,11902,11964,11575,11037,10873,10710,11293,10955,11227,11370,11457,11442,11524,11406,11559,11652,11780,11764,11800,11790,11790,11856,11933,11902,11902,11974,12035,12087,12153,12215,12240,12338,12389,12422,12353,12358,12348,12399,12517,12527,12501,12496,12588,12609,12573,12568,12609,12578,12614,12675,12691,12660,12727,12675,12701,12655,12670,12725,12777,12746,12777,12736,12834,12870,12947,12944,12937,12952,12921,12978,12947,13024,12965,13009,13117,13081,13081,13112,13132,13137,13179,13132,13199,13091,13076,12957,13199,13354,13292,13313,13313,13390,13410,13374,13385,13390,13354,13385,13462,13596,13519,13596,13652,13642,13714,13740,13802,13879,13941,13915,13956,14018,14121,14070,14142,14090,14100,14162,14312,14406,14339,14297,14292,14313,14406,14442,14504,14504,14665,14701,14608,14685,14572,14370,14613,14748,14628,14504,14639,14380,14437,14520,14618];;
  const div1 =  [10000,10090,10125,10180,10110,10135,10165,10160,10080,10105,10105,10135,10276,10316,10266,10346,10316,10341,10291,10316,10321,10321,10427,10341,10341,10341,10326,10311,10150,10211,10226,10226,10185,10251,10256,10206,10241,10150,10206,10080,10025,10025,10025,10040,10025,10001,10012,10122,10077,10122,10153,10178,10339,10329,10284,10289,10249,10365,10491,10551,10607,10612,10632,10551,10576,10647,10632,10561,10551,10622,10617,10627,10768,10617,10334,10264,10208,10370,10339,10430,10481,10556,10733,10753,10768,10743,10758,10778,10773,10894,10854,10808,10844,10824,10748,10743,10738,10637,10748,10743,10819,10955,11010,11076,11056,11056,11126,11109,11150,11205,11180,11226,11215,11210,11241,11210,11215,11215,11256,11251,11340,11378,11388,11443,11504,11560,11555,11565,11575,11479,11504,11474,11464,11499,11484,11337,11373,11378,11388,11550,11555,11580,11611,11692,11717,11742,11682,11707,11742,11748,11920,11948,11945,11925,11955,11991,12042,12021,12021,12052,12072,12118,12052,11996,12062,11950,11889,11839,11824,11580,11519,11580,11626,11682,11682,11616,11656,11732,11814,11778,11763,11727,11829,11691,11574,11589,11707,11742,11839,11895,11936,11951,12007,12023,11946,11992,12018,12191,12063,11931,11946,12053,12048,12023,12125,12114,12063,12135,12048,12089,12120,12120,12018,11926,11834,11967,11895,12018,11809,11747,11752,11650,11727,11554,11518,11559,11492,11640,11768,11712,11885,11946,11895,11995,12035,11959,11948,11764,11841,11902,11964,11575,11037,10873,10710,11293,10955,11227,11370,11457,11442,11524,11406,11559,11652,11780,11764,11800,11790,11790,11856,11933,11902,11902,11974,12035,12087,12153,12215,12240,12338,12389,12422,12353,12358,12348,12399,12517,12527,12501,12496,12588,12609,12573,12568,12609,12578,12614,12675,12691,12660,12727,12675,12701,12655,12670,12725,12777,12746,12777,12736,12834,12870,12947,12944,12937,12952,12921,12978,12947,13024,12965,13009,13117,13081,13081,13112,13132,13137,13179,13132,13199,13091,13076,12957,13199,13354,13292,13313,13313,13390,13410,13374,13385,13390,13354,13385,13462,13596,13519,13596,13652,13642,13714,13740,13802,13879,13941,13915,13956,14018,14121,14070,14142,14090,14100,14162,14312,14406,14339,14297,14292,14313,14406,14442,14504,14504,14665,14701,14608,14685,14572,14370,14613,14748,14628,14504,14639,14380,14437,14520,14618];;
  const log_close =  [-0.1646979873691392,-0.1556932471628838,-0.15221321265703125,-0.14676916014137698,-0.1537032012291215,-0.15122115135577285,-0.14825105318045884,-0.14874534397650718,-0.1566898551562259,-0.15420039041114997,-0.15420039041114997,-0.15122115135577285,-0.13743465217680528,-0.13353031243308822,-0.1384131236257402,-0.13061202897810098,-0.13353031243308822,-0.1310978662585156,-0.13596888170983235,-0.13353031243308822,-0.13304338788772885,-0.13304338788772885,-0.12287132063277628,-0.1310978662585156,-0.1310978662585156,-0.1310978662585156,-0.13255679593443803,-0.1340175699411814,-0.14973485368027006,-0.14381213924571545,-0.14233670823344635,-0.14233670823344635,-0.14627555415157678,-0.1398826764389356,-0.13939264968661114,-0.14430424025125133,-0.14086364373007232,-0.14973485368027006,-0.14430424025125133,-0.1566898551562259,-0.16218833474158734,-0.16218833474158734,-0.16218833474158734,-0.1606857575020073,-0.16218833474158734,-0.16450557146744949,-0.16349749885927034,-0.15247535369938436,-0.15696963213191628,-0.15247535369938436,-0.14949015591774195,-0.1470095067537729,-0.13127670234922295,-0.13225270057253136,-0.13665690317245405,-0.13616653504724807,-0.1400958441656095,-0.12884048514927793,-0.11674848609695632,-0.1109957882608219,-0.105751350088223,-0.10527599475861482,-0.10337664412524283,-0.1109957882608219,-0.10860870382656262,-0.10195463394825444,-0.10337664412524283,-0.11004030799105591,-0.1109957882608219,-0.10432596145087514,-0.10480086528433841,-0.10385119013763999,-0.09064966700849597,-0.10480086528433841,-0.13176448685308806,-0.13862059143855543,-0.1440405569637231,-0.12835402928769657,-0.13127670234922295,-0.12253437437848014,-0.11771049474184725,-0.11051784048031044,-0.09393372200215078,-0.09205595614183837,-0.09064966700849597,-0.09299439832148115,-0.09158688155037886,-0.08971333001532322,-0.0901814347435419,-0.07900813720025024,-0.08271865494366404,-0.08690956793281046,-0.0836484623807201,-0.08551076612460706,-0.09252497528741799,-0.09299439832148115,-0.09346394987069795,-0.10290250883647634,-0.09252497528741799,-0.09299439832148115,-0.08597681602264329,-0.07346800338974768,-0.0684163327653069,-0.06247888427661197,-0.0643020533154135,-0.0643020533154135,-0.05793545112906484,-0.059485377728373035,-0.05584229757527792,-0.050854789105810205,-0.05311871503059695,-0.0490472434484821,-0.04995065189015291,-0.050402530243949695,-0.04769379096956783,-0.050402530243949695,-0.04995065189015291,-0.04995065189015291,-0.04634208013445651,-0.04679250593218587,-0.038940503097795176,-0.0355941042041672,-0.03470374059815873,-0.0298201275044514,-0.024519804991049998,-0.01968572531315793,-0.02012421497319883,-0.01924742784202893,-0.018371408793136812,-0.026724995766029824,-0.024519804991049998,-0.02716658364680491,-0.028050258714551912,-0.02496041994487941,-0.02628351682679453,-0.0391640298607876,-0.03603971368665304,-0.0355941042041672,-0.03470374059815873,-0.02056289699077185,-0.02012421497319883,-0.017933516364496693,-0.015311286355974119,-0.008351710414561175,-0.006186622867698777,-0.004026465039240534,-0.009219076573256935,-0.007052196656855081,-0.004026465039240534,-0.0035948920110846494,0.010966372096832266,0.013302062091777866,0.013089997009317234,0.011391441456489737,0.013938152808854465,0.016901210539877365,0.021118825552892684,0.019433782130773736,0.019433782130773736,0.02196020177135516,0.023640751654420367,0.02741204072134762,0.02196020177135516,0.01732368288027386,0.022800788816712103,0.013514164830115583,0.008411988491058064,0.004140407026432591,0.002855366413466065,-0.017933516364496693,-0.023199209490061268,-0.017933516364496693,-0.014002618001648148,-0.009219076573256935,-0.009219076573256935,-0.014874901585550937,-0.011456985419996624,-0.004916678666431196,0.002012714143518668,-0.0010129624536601156,-0.002312536682778976,-0.005351432571639059,0.003306683153974088,-0.008399591505301451,-0.01848067728165903,-0.01715993455667686,-0.007092087756687793,-0.004047905641730853,0.00416834430266233,0.008894503716418978,0.012317637245764956,0.01359834896507417,0.018280089379017372,0.01955327460081646,0.013171654828388224,0.017005528079929277,0.019129114382804513,0.03345122515388477,0.022940258728146645,0.011890396169981887,0.013171654828388224,0.02209454660131316,0.02167146314908397,0.01955327460081646,0.027999322209040667,0.027157879585161027,0.022940258728146645,0.028839976041050708,0.02167146314908397,0.025051292695717375,0.027578730132352902,0.027578730132352902,0.019129114382804513,0.011462972481239397,0.0037376065358074584,0.014877340054229471,0.008894503716418978,0.019129114382804513,0.0015810466632104614,-0.003613717957811957,-0.003179886728494452,-0.011894507948075006,-0.005351432571639059,-0.02024427148107888,-0.023338236699247172,-0.019803081258229493,-0.02555405054321902,-0.012770212519510604,-0.0018791855577013905,-0.006656660902066847,0.00803682397843275,0.013171654828388224,0.008894503716418978,0.017208944798216663,0.02061748256569018,0.014216831316358203,0.013360318396314685,-0.0021841229870549483,0.00432211044351094,0.009496822824928586,0.014644812827981468,-0.01841593362110938,-0.06596859821769385,-0.0809221008842016,-0.09610270181205394,-0.04304228639614838,-0.07341744396684602,-0.04895278774325629,-0.03626571895849562,-0.028640642573808606,-0.029981995942866657,-0.022848727290669224,-0.03311883525002557,-0.019743718269207733,-0.011803666456669859,-0.0008794351185175131,-0.0021841229870549483,0.0008573934779514403,-1.0643748633576422e-05,-1.0643748633576422e-05,0.0056183427442157985,0.01207408917943198,0.009496822824928586,0.009496822824928586,0.015500226738359046,0.02061748256569018,0.02486212652590547,0.030353047862083038,0.03539513037180475,0.03748845071756124,0.045403582572926204,0.04954436697192621,0.052226619926620366,0.04664751532296263,0.047061922473764284,0.04623309628470951,0.05037037473496131,0.05982188991878257,0.06063953410999101,0.05859416874745893,0.0581845141644286,0.06553156628145418,0.06715688766758232,0.0643107607687119,0.06390344180854068,0.06715688766758232,0.06471783539362308,0.06756280558841166,0.0724211677210409,0.07363204021825132,0.07120874924767362,0.07645179802884394,0.0724211677210409,0.07443847475377341,0.07080430888484779,0.07201721751103918,0.07635675995865476,0.08039554519839331,0.07797427847099758,0.08039554519839331,0.07716580749903867,0.08481944194107971,0.08762452109862684,0.09360895222437682,0.09341004965036559,0.09281310444470492,0.09400663872502824,0.09161814393788381,0.0959927784407908,0.09360895222437682,0.0995578586836241,0.0950001636003397,0.09837085964482029,0.10665003958061225,0.10389789684655382,0.10389789684655382,0.10625727521802908,0.1078271823862611,0.10821933074979784,0.11135039449573947,0.1078271823862611,0.11291225769105395,0.10468505040299503,0.10350412534624942,0.09440416713399546,0.11291225769105395,0.1245493387606782,0.1199107590995232,0.12145939370692327,0.12145939370692327,0.12724530438862525,0.12878263071300822,0.12609073823727313,0.1268606216877366,0.12724530438862525,0.1245493387606782,0.1268606216877366,0.13261545509953487,0.14251273183072533,0.13681473644400421,0.14251273183072533,0.14667081489983103,0.14591603861449887,0.1511871162139804,0.1530629769123899,0.15755063737581976,0.16313209313460142,0.16757482246106425,0.16572608334415895,0.1686824983341455,0.17310069126275573,0.1804214520646319,0.17676780592791008,0.18187915301231028,0.17823083863917777,0.1789615531026496,0.18333473216050988,0.1938249977835218,0.20038615201919008,0.19570401995905184,0.19281175758895364,0.1924496272710594,0.19389729339478912,0.20038615201919008,0.20289825437738873,0.20719013646871298,0.20719013646871298,0.2181928903721997,0.22066071095794637,0.21430250131561168,0.21960385762529855,0.21181892025719584,0.1978677231064454,0.2146568052727127,0.22382471969887519,0.21571896457834505,0.20719013646871298,0.2164264445314421,0.1985879412662772,0.20253975897797227,0.2082601839922562,0.21501098374297944];;
  const log_sp500 =  [-0.1531130731192505,-0.16191020277330637,-0.15321685161646847,-0.14132328504874536,-0.14111029767081362,-0.14569723194093243,-0.13553985060860718,-0.13236644253196772,-0.14822199365089617,-0.15166334713652674,-0.14257632241144336,-0.1300977647519339,-0.1198245910606861,-0.1184820628318608,-0.11848789846705543,-0.11340986582794699,-0.11176182574778082,-0.11200315892164703,-0.10717701039419225,-0.09552918260689225,-0.09761302008098127,-0.09644892439308705,-0.09303420431770348,-0.09574399552705515,-0.103152157810527,-0.09617550873385383,-0.09592673782696792,-0.09592673782696792,-0.10332105504271105,-0.10931401257846396,-0.10131818834653572,-0.10020272812300135,-0.09870104711921712,-0.08692303126926149,-0.08712286787089774,-0.08823870992117655,-0.0856611799429352,-0.08295446508772564,-0.07448674484583861,-0.07214483340872135,-0.0725387716897199,-0.06490360731739919,-0.06238545313588162,-0.06238545313588162,-0.06491458053129406,-0.06647793225011789,-0.06954781140598598,-0.06562193772680303,-0.06405074150208279,-0.06314383164528437,-0.06723584510765335,-0.058387648355038735,-0.05331608608550553,-0.05331608608550553,-0.04788211172453671,-0.046865929248131266,-0.04612513177006683,-0.03596881689196074,-0.044770466861226765,-0.039268602836262545,-0.03644638641290854,-0.03007733644145638,-0.04410277796510087,-0.05194989011045159,-0.05911576933685758,-0.048381552090637214,-0.04994086978458334,-0.07336211200747655,-0.07851800102719331,-0.06748858061762242,-0.06667560104579451,-0.07164811540716087,-0.05597813470524393,-0.06976625849723384,-0.08831916510578708,-0.10844535700458025,-0.11621007239335057,-0.09342893280245157,-0.0887681343680704,-0.08872510131634925,-0.07201786789729958,-0.06820143133610124,-0.05219694140479625,-0.050209139036400785,-0.0405338116002234,-0.04252033883783213,-0.03828962411682646,-0.04726256637348314,-0.0358446289718195,-0.039003339141425286,-0.03740941402870135,-0.04340331482343629,-0.043442694666874004,-0.033400237587729364,-0.05477820096012742,-0.05638202998750863,-0.05940461100218286,-0.07681555550960617,-0.06530202107378891,-0.06083932109599388,-0.05023076544615179,-0.042763413289348406,-0.0373702710549928,-0.036114430187682345,-0.03584991509378632,-0.03875057380209945,-0.021916216909373176,-0.02385913053938893,-0.021053796113676526,-0.01854576501033023,-0.020408748216542705,-0.01637820605834328,-0.017632208958415774,-0.013404605299975003,-0.022772453994429398,-0.022634072667441885,-0.02431690132190134,-0.015386645622715633,-0.025018909452104054,-0.015376202647409798,-0.008287971630414503,-0.01036024013639647,-0.004326631429098171,-0.00428708289201829,0.00038114989076198924,0.00020997476222461842,0.004173661704998111,0.002349228948579807,0.00187426228138321,-0.007359561986296725,-0.005216088855739542,-0.0055155808689253405,-0.0028676462421923787,-0.0012548202972908484,-0.004560511969780023,-0.02335064689852473,-0.019266488893999067,-0.02208253370718971,-0.009891502677627173,0.015089778279559596,0.022493532453555787,0.026243326489273855,0.02721192068023015,0.024315069203293405,0.02454726996743517,0.01847916138519068,0.00518773051839716,0.009097890264603947,0.013053640785200216,0.013075591406535025,0.018401843250822836,0.021863802842359448,0.0248797306624855,0.030585427817747757,0.026776946734170082,0.026776946734170082,0.032369067130971985,0.03481453101155374,0.03526587825357552,0.04129905988171245,0.03942753404233024,0.04191987940986763,0.035756712124641155,0.0327884278103614,0.0409210542217302,0.03549232276026615,0.03546585577089445,0.03925801077967961,0.03538653129902336,0.005450025994505836,0.0045845392439680666,0.015395018646366054,0.022655868231982623,0.03363810139710921,0.02211505534393865,0.011355381402209375,0.007061374943226895,0.004835011793778321,0.017352368501603266,0.022875134998422197,0.011709113481785494,0.013268257575616005,0.013268257575616005,-0.00226338007461635,-0.0006891756965625717,0.0004564476376014426,0.018603580142118048,0.01648865580125225,0.026430134109645564,0.03516014355024133,0.03516014355024133,0.041279324637235604,0.04657874409676488,0.04371952811229818,0.029031469080186056,0.03820711325790249,0.03351723720098221,0.038778785353162704,0.03371918136289587,0.02608149063340015,0.033280398036430014,0.03718145195204414,0.04081912630731033,0.031309280613649904,0.03799939290910359,0.038338918052778226,0.035611334863130395,0.04598364807736566,0.04591170168179204,0.048353705337342845,0.050727854204167144,0.04638424931987828,0.029172852647338487,0.024191359081086716,0.019500643942690132,0.01963665897227429,0.003644916293749745,0.019374696714413275,0.0016212940661031183,-0.010688994165402477,0.00040847836333313126,-0.01757119874412183,-0.012065763698666743,-0.03940930548709609,-0.0470059524056321,-0.04213098446514074,-0.05611935127160628,-0.035076445318408034,-0.02868081034380232,-0.03939147741812299,-0.02865086924516902,-0.03083815275895141,-0.03001383915111866,-0.012521722022480475,-0.010948626531826378,-0.02216826688942497,-0.025480727896557198,-0.04541532902340961,-0.03989208866576455,-0.036117984110552115,-0.029412322681068304,-0.07901823451006429,-0.14062729640829552,-0.14296149101425826,-0.15878657429131415,-0.06789169445827703,-0.1031123014823887,-0.08518192064661179,-0.07726860132026836,-0.07899787654556967,-0.10166113051047176,-0.10033517188669805,-0.12418482022071764,-0.09937786809526727,-0.08285400372838758,-0.06279737564580401,-0.05545129085010281,-0.054810789311101615,-0.04902514776554412,-0.047546250513612165,-0.04126690479716011,-0.026647713688046082,-0.03304976071736476,-0.04077274599575631,-0.03643580788904721,-0.03065278674158023,-0.03136452087645658,0.0006754558005628297,0.007897514820809803,0.008921406063086224,0.013045223501842784,0.020026072869942624,0.017014025366419716,0.0007473060986598057,0.00030233607623841863,-0.006428563515234131,0.013824017286950152,0.013824017286950152,0.008237214710504759,0.012240385581137048,0.012159197124141485,0.0162528486147675,0.022036382150137257,0.022110066894855507,0.016818708916158442,0.027046905131534515,0.02796643031792634,0.033434442859572755,0.030686782541286206,0.03450191561296201,0.0231412470228598,0.03249007017104866,0.024102810447404366,0.023793522412685064,0.023793522412685064,0.021612487197096186,0.031173142268356102,0.04223347088531426,0.042230184776965274,0.05021831580948266,0.055423715065632706,0.06057485257176154,0.06418956976837187,0.07249394797903719,0.07249394797903719,0.06460057987479217,0.0638844366243223,0.06992823940110249,0.0726706804740278,0.06936770870080267,0.07077413303173863,0.0668099879660673,0.06999855649145026,0.07535793673146252,0.07526744642865424,0.07666560343432671,0.07730293193099413,0.08508446407669723,0.08578244407362945,0.08974889507531003,0.08992573754657762,0.08696190734911013,0.08571169341059992,0.08201003136422536,0.06588864417865636,0.0756485048896085,0.08290402710946232,0.08210622893763464,0.08987568375402333,0.08736841536013884,0.09864997443530932,0.10187484781935474,0.10217789269790956,0.09927655278154468,0.09917578452380837,0.09330045541160104,0.09086582477933725,0.0868536050503863,0.10192589020916465,0.09765037766951856,0.10177585137963518,0.10416398183293829,0.10731572927440425,0.10089698887161269,0.09395063881058086,0.09903775111352253,0.10734959821639656,0.10417942554646054,0.10628318999734887,0.10896773702742202,0.11194676525681935,0.12039685287991375,0.11991397499848588,0.1246095527250457,0.12332079229171455,0.12235015321346943,0.12712784105017683,0.13200136498765858,0.1364017157024211,0.1308843638736814,0.12803368670838644,0.12301203796585902,0.12889652709627342,0.13152860435618585,0.13561110796969444,0.1390052621409179,0.13962342576230036,0.13968893641916758,0.14332889570192897,0.13951020799507674,0.14532095648926457,0.14256158250898565,0.1150756070690857,0.12898831860907656,0.1330062371125056,0.12669195683736234,0.13194883078188901,0.14256455491803344,0.1425972508344504,0.13724541605970764,0.1430558959217212,0.15234708910713657];;

  // Graphique 1
  const graph1 = document.getElementById("graph1");
  Plotly.newPlot(graph1, [
    {x:dates1, y:close1, type:"scatter", mode:"lines", name:"Prix", line:{color:"#007a33"}},
    {x:dates1, y:div1, type:"scatter", mode:"lines", name:"+dividende", line:{color:"orange"}}
  ], {margin:{t:30,l:50,r:30,b:40}, title:"Croissance de 10 000$", hovermode:"x unified"});

  // Graphique 2
  const graph2 = document.getElementById("graph2");
  Plotly.newPlot(graph2, [
    {x:dates1, y:log_close, type:"scatter", mode:"lines", name:"log(valeur)", line:{color:"#007a33"}},
    {x:dates1, y:log_sp500, type:"scatter", mode:"lines", name:"log(S&P500)", line:{color:"orange"}}
  ], {margin:{t:30,l:50,r:30,b:40}, title:"Comparaison avec S&P500", hovermode:"x unified"});

  // --- Synchronisation axes X ---
  graph1.on('plotly_relayout', function(e){
    if(e['xaxis.range[0]'] && e['xaxis.range[1]']){
      Plotly.relayout(graph2, {'xaxis.range':[e['xaxis.range[0]'], e['xaxis.range[1]']]});
    }
  });
  graph2.on('plotly_relayout', function(e){
    if(e['xaxis.range[0]'] && e['xaxis.range[1]']){
      Plotly.relayout(graph1, {'xaxis.range':[e['xaxis.range[0]'], e['xaxis.range[1]']]});
    }
  });

  // --- Graphique 3 : Scatter ---
  let tickers = ["BKCL.TO","DRFC.TO","EBNK.TO","ESGA.TO","FCUV.TO","HURA.TO","VFV.TO","XUSC.TO","ZEA.TO","ZGLD.TO","ZGQ.TO","ZID.TO","ZLB.TO","ZLU.TO","ZQQ.TO","ZUQ.TO","ZWE.TO","ZWG.TO","CINF.TO","DMEC.TO"];
  let slope = [18.96,11.3,24.69,9.63,18.79,28.79,13.81,13.21,6.37,35.59,12.64,10.92,10.2,10.98,16.1,14.41,6.47,8.84,9.24,22.08];
  let volatility = [4.62,9.79,8.08,10.04,5.8,20.51,7.59,4.48,7.14,3.49,7.72,14.19,7.56,8.53,10.06,7.49,7.36,5.08,4.03,3.2];

  let colors = tickers.map(t => t === "DMEC.TO" ? "red" : "grey");
  let sizes = tickers.map(t => t === "DMEC.TO" ? 12 : 8);
  let texts = tickers.map(t => t === "DMEC.TO" ? t : "");
  let hovertexts = tickers;

  Plotly.newPlot("graph3", [{
    x: slope,
    y: volatility,
    mode: "markers+text",
    text: texts,
    hovertext: hovertexts,
    hoverinfo: "text",
    textposition: "top center",
    marker: { color: colors, size: sizes }
  }], {
    margin: {t:30, l:50, r:30, b:40},
    title: "Slope vs Volatilité",
    xaxis: {title: "Slope"},
    yaxis: {title: "Volatilité"}
  });

  // --- Graphique 4 : Histogramme ---
  let secteurs = ["realestate","consumer_cyclical","basic_materials","consumer_defensive","technology","communication_services","financial_services","utilities","industrials","energy","healthcare"];
  let fractions = [1.7999999999999998,3.6700000000000004,16.88,3.19,9.71,2.12,32.479998,2.71,11.26,15.950000000000001,0.21];

  Plotly.newPlot("graph4", [{
    x: secteurs,
    y: fractions,
    type: "bar",
    text: secteurs,
    textposition: "inside",
    insidetextanchor: "middle",
    textangle: -90,
    marker: { color:["#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b","#003314","#00220d","#001107"] }
  }], {
    margin:{t:30,l:50,r:30,b:40},
    title:"Répartition par secteur",
    yaxis:{title:"Fraction du portefeuille (%)"},
    dragmode: false,
    staticPlot: true
  });
</script>

<footer class="footer">
  Mise à jour : 2025-10-24 13:56
</footer>
</body>
</html>